(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00b5d6f8"],{"043c":function(e,t,n){"use strict";n("ee79")},"07ac":function(e,t,n){"use strict";var a=n("23e7"),r=n("6f53").values;a({target:"Object",stat:!0},{values:function(e){return r(e)}})},"0ea9":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("el-select",e._b({attrs:{filterable:"",remote:"","reserve-keyword":"","remote-method":e.searchVpk,loading:e.play_vpk_loading,size:"small"},model:{value:e.valueModel,callback:function(t){e.valueModel=t},expression:"valueModel"}},"el-select",e.$attrs,!1),e._l(e.play_vpk_list,(function(n,a){return t("el-option",{key:a,attrs:{label:n.title,value:n[e.field]}})})),1)},r=[],i=n("5530"),o=(n("7db0"),n("e9f5"),n("f665"),n("d3b7"),n("4297")),s={name:"VpkSelect",props:{extraQuery:{type:Object,default:function(){return{}}},value:{default:""},field:{type:String,default:"id"}},model:{prop:"value",event:"change"},computed:{valueModel:{get:function(){return this.value},set:function(e){this.$emit("change",e)}}},data:function(){return{play_vpk_list:[],play_vpk_loading:!1}},methods:{searchVpk:function(e){var t=this;return this.play_vpk_loading=!0,Object(o["i"])(Object(i["a"])(Object(i["a"])({},this.extraQuery),{},{title:e})).then((function(e){t.play_vpk_list=e.data.data.list})).finally((function(){t.play_vpk_loading=!1}))},getVpk:function(e,t){var n=this;"uuid"===t?Object(o["j"])(e).then((function(e){n.play_vpk_list.find((function(t){return t.id==e.data.data.id}))||n.play_vpk_list.unshift(e.data.data)})):"id"===t&&Object(o["k"])(e).then((function(e){n.play_vpk_list.find((function(t){return t.id==e.data.data.id}))||n.play_vpk_list.unshift(e.data.data)}))}},mounted:function(){var e=this;this.searchVpk("").then((function(){e.value&&e.getVpk(e.value,e.field)}))}},l=s,c=n("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);t["a"]=u.exports},"0edf":function(e,t,n){"use strict";n("e69f")},"1c42":function(e,t,n){"use strict";n("fdec")},"1d69":function(e,t,n){"use strict";n("f1c8")},"1ee8":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n("c7eb"),r=n("1da1"),i=(n("b85c"),n("53ca"),n("99af"),n("4e82"),n("b64b"),n("d3b7"),n("65c2")),o=(i.__ossRoot,i.__Links,i.__imgPath);i.__iconPath;function s(e,t){return"".concat(o,"image/").concat(e,"/").concat(t,".png")}function l(){return"/account/login?redirect="+location.href}var c=function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(t){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"1fb9":function(e){e.exports=JSON.parse('{"a":"https://pub.jx3box.com/"}')},"2f46":function(e){e.exports=JSON.parse('{"BUFF":"buff","DEBUFF":"buff","CASTING":"skill","NPC":"npc","DOODAD":"doodad"}')},3538:function(e,t,n){},3835:function(e,t,n){"use strict";function a(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("14d9"),n("d3b7"),n("3ca3"),n("ddb0");function r(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(c)throw r}}return s}}var i=n("06c5");n("d9e2");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return a(e)||r(e,t)||Object(i["a"])(e,t)||o()}},"469a":function(e){e.exports=JSON.parse('{"BUFF":["dwID","nLevel","nScrutinyType","tKungFu","nCount","bCheckLevel","1","2","szNote","tCountdown","aCataclysmBuff","col","szName","nIcon","BUFF_GET","BUFF_LOSE","tMark","bTeamChannel","bWhisperChannel","bCenterAlarm","bScreenHead","bPartyBuffList","bBuffList","bTeamPanel","bOnlySelfSrc","szVoice","bFullScreen","bVoiceSelfOnly"],"DEBUFF":["dwID","nLevel","nScrutinyType","tKungFu","nCount","bCheckLevel","1","2","szNote","tCountdown","aCataclysmBuff","col","szName","nIcon","BUFF_GET","BUFF_LOSE","tMark","bTeamChannel","bWhisperChannel","bCenterAlarm","bScreenHead","bPartyBuffList","bBuffList","bTeamPanel","bOnlySelfSrc","szVoice","bFullScreen","bVoiceSelfOnly"],"CASTING":["dwID","nLevel","nScrutinyType","tKungFu","bCheckLevel","bMonTarget","9","8","szNote","tCountdown","col","szName","nIcon","SKILL_BEGIN","SKILL_END","tMark","bTeamChannel","bWhisperChannel","bCenterAlarm","bScreenHead","szVoice","bFullScreen","bVoiceSelfOnly"],"NPC":["dwID","nFrame","tKungFu","nCount","bAllLeave","3","4","11","szNote","tCountdown","aFocus","col","szName","5","7","12","13","6","16","NPC_ENTER","NPC_LEAVE","NPC_ALLLEAVE","NPC_FIGHT","NPC_DEATH","NPC_ALLDEATH","NPC_LIFE","NPC_MANA","tMark","bTeamChannel","bWhisperChannel","bCenterAlarm","bScreenHead","szVoice","bFullScreen","bVoiceSelfOnly"],"DOODAD":["dwID","tKungFu","nCount","bAllLeave","17","18","szNote","tCountdown","aFocus","col","szName","nIcon","19","DOODAD_ENTER","DOODAD_LEAVE","DOODAD_ALLLEAVE","bTeamChannel","bWhisperChannel","bCenterAlarm","szVoice","bFullScreen","bVoiceSelfOnly"],"TALK":["szNote","szTarget","szContent","14","tCountdown","col","TALK_MONITOR","bSearch","bReg","bTeamChannel","bWhisperChannel","bCenterAlarm","szVoice","bFullScreen","bVoiceSelfOnly"],"CHAT":["szNote","szContent","20","tCountdown","col","10","CHAT_MONITOR","bSearch","bReg","bTeamChannel","bWhisperChannel","bCenterAlarm","szVoice","bFullScreen","bVoiceSelfOnly"]}')},"49d2":function(e,t,n){},"4a77":function(e){e.exports=JSON.parse('{"szStackOp":"","nStackNum":"","bOnlyMine":false,"bOnlyMe":false,"bAttention":false,"col":"","nColAlpha":0,"bCaution":false,"bScreenHead":false,"colScreenHead":"","szReminder":"","nPriority":"","__colors":""}')},"584f":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return d}));n("99af"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("466d");var a=n("41cb"),r=function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},i=(a["h"].create({withCredentials:!0,baseURL:"https://dbm.jx3box.com",auth:{username:r("season_token"),password:"next common request"}}),a["h"].create({withCredentials:!0,baseURL:"https://pull.jx3box.com",auth:{username:r("season_token"),password:"next common request"}}));function o(e){return i.post("/api/dbm/voice/upload",e)}function s(e){return Object(a["d"])().get("/api/next2/dbm/vpk/my/".concat(e,"/voices"))}function l(e,t){return Object(a["d"])().delete("/api/next2/dbm/vpk/my/".concat(e,"/slug"),{params:{slug:t}})}function c(e){return Object(a["d"])().get("/api/next2/dbm/vpk/public/".concat(e,"/voices"))}function u(e){return Object(a["d"])().get("/api/next2/dbm/vpk/manager/voices",{params:e})}function p(e){return Object(a["d"])().get("/api/next2/dbm/vpk/manager/".concat(e,"/voices"))}function d(e,t,n){return Object(a["d"])().put("/api/next2/dbm/vpk/manager/".concat(e,"/voices/").concat(t,"/opt/").concat(n))}},"5b81":function(e,t,n){"use strict";var a=n("23e7"),r=n("c65b"),i=n("e330"),o=n("1d80"),s=n("1626"),l=n("7234"),c=n("44e7"),u=n("577e"),p=n("dc4a"),d=n("90d8"),f=n("0cb2"),m=n("b622"),b=n("c430"),h=m("replace"),v=TypeError,y=i("".indexOf),g=i("".replace),_=i("".slice),C=Math.max;a({target:"String",proto:!0},{replaceAll:function(e,t){var n,a,i,m,k,w,x,O,F,S,j=o(this),P=0,L="";if(!l(e)){if(n=c(e),n&&(a=u(o(d(e))),!~y(a,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(i=p(e,h),i)return r(i,e,j,t);if(b&&n)return g(u(j),e,t)}m=u(j),k=u(e),w=s(t),w||(t=u(t)),x=k.length,O=C(1,x),F=y(m,k);while(-1!==F)S=w?u(t(k,F,m)):f(k,m,F,[],void 0,t),L+=_(m,P,F)+S,P=F+x,F=F+O>m.length?-1:y(m,k,F+O);return P<m.length&&(L+=_(m,P)),L}})},"5e84":function(e,t,n){"use strict";n("49d2")},"63fc":function(e,t,n){},"66d1":function(e){e.exports=JSON.parse('["#EB7626","#BF0EAE","#D11717","#DBE244","#8485A7","#0092EA","#40BF2C","#4BCFD5","#932DE4"]')},"6f53":function(e,t,n){"use strict";var a=n("83ab"),r=n("d039"),i=n("e330"),o=n("e163"),s=n("df75"),l=n("fc6a"),c=n("d1e7").f,u=i(c),p=i([].push),d=a&&r((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),f=function(e){return function(t){var n,r=l(t),i=s(r),c=d&&null===o(r),f=i.length,m=0,b=[];while(f>m)n=i[m++],a&&!(c?n in r:u(r,n))||p(b,e?[n,r[n]]:r[n]);return b}};e.exports={entries:f(!0),values:f(!1)}},"88fd":function(e){e.exports=JSON.parse('[{"value":47,"label":"人形"},{"value":50,"label":"野怪"},{"value":57,"label":"人形"},{"value":52,"label":"机甲"},{"value":54,"label":"傀儡"},{"value":60,"label":"特殊"},{"value":64,"label":"未知"},{"value":65,"label":"特殊"},{"value":67,"label":"灵体"}]')},"8a79":function(e,t,n){"use strict";var a=n("23e7"),r=n("4625"),i=n("06cf").f,o=n("50c4"),s=n("577e"),l=n("5a34"),c=n("1d80"),u=n("ab13"),p=n("c430"),d=r("".slice),f=Math.min,m=u("endsWith"),b=!p&&!m&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!b&&!m},{endsWith:function(e){var t=s(c(this));l(e);var n=arguments.length>1?arguments[1]:void 0,a=t.length,r=void 0===n?a:f(o(n),a),i=s(e);return d(t,r-i.length,r)===i}})},"8c3d":function(e){e.exports=JSON.parse('{"tRelation":{"bAll":true,"bAlly":false,"bEnemy":false},"tLife":{"szOperator":"","nValue":"","bEnable":false},"nMaxDistance":"","szDisplay":""}')},"8da1":function(e){e.exports=JSON.parse('["=","!=",">","<",">=","<="]')},"91d4":function(e){e.exports=JSON.parse('{"0":"通用","10002":"洗髓经","10003":"易筋经","10014":"紫霞功","10015":"太虚剑意","10021":"花间游","10026":"傲血战意","10028":"离经易道","10062":"铁牢律","10080":"云裳心经","10081":"冰心诀","10144":"问水诀","10145":"山居剑意","10175":"毒经","10176":"补天诀","10224":"惊羽诀","10225":"天罗诡道","10242":"焚影圣诀","10243":"明尊琉璃体","10268":"笑尘诀","10389":"铁骨衣","10390":"分山劲","10447":"莫问","10448":"相知","10464":"北傲诀","10533":"凌海诀","10585":"隐龙诀","10615":"太玄经","10626":"灵素","10627":"无方","10698":"孤锋诀","10756":"山海心诀","10786":"周天功"}')},9653:function(e){e.exports=JSON.parse('{"BUFF":{"bCenterAlarm":["1","2"],"bTeamChannel":["1","2"],"bWhisperChannel":["1","2"],"bBuffList":["1"],"bPartyBuffList":["1"],"tMark":["1"],"bScreenHead":["1"],"bTeamPanel":["1"],"bOnlySelfSrc":["1"],"szVoice":["1","2"],"bFullScreen":["1"]},"DEBUFF":{"bCenterAlarm":["1","2"],"bTeamChannel":["1","2"],"bWhisperChannel":["1","2"],"bBuffList":["1"],"bPartyBuffList":["1"],"tMark":["1"],"bScreenHead":["1"],"bTeamPanel":["1"],"bOnlySelfSrc":["1"],"szVoice":["1","2"],"bFullScreen":["1"]},"CASTING":{"bCenterAlarm":["8","9"],"bTeamChannel":["8","9"],"bWhisperChannel":["8","9"],"tMark":["8","9"],"bScreenHead":["8"],"szVoice":["8","9"],"bFullScreen":["9"]},"NPC":{"bCenterAlarm":["3","4"],"bTeamChannel":["3","4"],"bWhisperChannel":["3","4"],"tMark":["3"],"bScreenHead":["3"],"szVoice":["3","4"],"bFullScreen":["3"]},"DOODAD":{"bCenterAlarm":["17","18"],"bTeamChannel":["17","18"],"bWhisperChannel":["17","18"],"szVoice":["17","18"],"bFullScreen":["17"]},"TALK":{"bCenterAlarm":["14"],"bTeamChannel":["14"],"bWhisperChannel":["14"],"szVoice":["14"],"bFullScreen":["14"]},"CHAT":{"bCenterAlarm":["20"],"bTeamChannel":["20"],"bWhisperChannel":["20"],"szVoice":["20"],"bFullScreen":["20"]}}')},bb52:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return w})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return F})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return P})),n.d(t,"g",(function(){return L})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return T}));var a=n("3835"),r=n("5530"),i=n("53ca"),o=n("ade3"),s=n("b85c"),l=(n("d9e2"),n("99af"),n("caad"),n("d81d"),n("fb6a"),n("4e82"),n("b0c0"),n("e9f5"),n("ab43"),n("a9e3"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("8a79"),n("2532"),n("466d"),n("5319"),n("5b81"),n("469a")),c=n("ef04"),u=(n("4de4"),n("a15b"),n("13d5"),n("d866"),n("910d"),n("9485"),n("07ac"),n("2ef0")),p=n("8c3d"),d=[function(e){if(e){if(Object(u["isArray"])(e))return e;var t=e.replace(/\s/g,"").replace(/rgb\((.+)\)/,"$1").split(",").map(Number);return t.length?t:void 0}},function(e){return"string"===typeof e&&e.match(/rgb\((.+)\)/)?e:e&&Object(u["isArray"])(e)?"rgb(".concat(e.join(","),")"):""}],f=[function(e){var t=Object(r["a"])({},e);for(var n in t.tMark&&Object.values(t.tMark).every((function(e){return!e}))&&delete t.tMark,t)t[n]||delete t[n];return void 0===t.szVoice&&(delete t.bVoiceOfficial,delete t.bVoiceSelfOnly),Object.keys(t).length?t:void 0},function(e){return e}],m={__default:[function(e){return e||void 0},function(e){return e}],__event:f,col:d,nLevel:[function(e){return e},function(e){return e}],tKungFu:[function(e){if(e&&e.length)return e.reduce((function(e,t){return e["SKILL#".concat(t)]=!0,e}),{})},function(e){return e?Object.keys(e).map((function(e){return e.split("#").pop()})):[]}],tCountdown:[function(e){var t,n=Object(s["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;for(var r in a)""!==a[r]&&null!==a[r]||delete a[r]}}catch(i){n.e(i)}finally{n.f()}if(e=e.filter((function(e){return Object.keys(e).length})),e.length)return e},function(e){return e}],aCataclysmBuff:[function(e){if(e&&e.length){for(var t in e)e[t]||delete e[t];return e}},function(e){return e}],aFocus:[function(e){if(e.length>0){var t=e.map((function(e){return Object(u["isEqual"])(e,p)?{}:e}));return t}},function(e){return e.length>0?e.map((function(e){return 0===Object.keys(e).length?Object(u["cloneDeep"])(p):e})):e}]},b={nScrutinyType:function(e){return null==e?0:e},tKungFu:function(e){return null==e?[]:e},nCount:function(e){return null==e?"":e},aFocus:function(e){return null==e?[]:e}},h=n("4be9"),v=n("2d86"),y=n("4a77"),g=n("85e4"),_=n("1ee8"),C=n("d9f0");function k(e,t){var n;return null===(n=l[e])||void 0===n?void 0:n.includes(t)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"    ";try{return C["serializer"].serialize(e,{indent:t}).replace(/\["(-?\d+)"\]/g,"[$1]")}catch(n){throw n}}function x(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.type,r=e.payload,i=e.defaultProps,l=e.defaultPropsStatus,c=e.keepLR,u={},p=Object.keys(r).sort(),d=Object(s["a"])(p);try{for(d.s();!(t=d.n()).done;){var f=t.value,b=r[f];if(k(a,f)&&(!i.includes(f)||l[f])){var h;if(m[f]?u[f]=m[f][0](b):isNaN(f)?u[f]=m["__default"][0](b):u[f]=m["__event"][0](b),void 0===u[f]&&delete u[f],"aCataclysmBuff"==f)u[f]=r[f].map((function(e){var t={};for(var n in e)Object.keys(y).includes(n)&&e[n]&&!["__colors"].includes(n)&&(t[n]=e[n]);return t["szStackOp"]||delete t["nStackNum"],t})),null!==(h=u[f])&&void 0!==h&&h.length||delete u[f];"CHAT"===a&&"szContent"===f&&c&&!r.szContent.endsWith("\\\n")&&(u[f]+="\\\n")}}}catch(w){d.e(w)}finally{d.f()}if(u.szContent&&(u.szContent=u.szContent.replace(/\\+\n$/,"\\\n")),!n)return u;var v,g=Object(o["a"])({},a,{}),_=Object(s["a"])(e.map);try{for(_.s();!(v=_.n()).done;){var C=v.value;g[a][C]=[u]}}catch(w){_.e(w)}finally{_.f()}return g}function O(e){var t=x(e);try{return w(t)}catch(n){return console.error(n),"return {}"}}function F(e,t,n){var a=Object(u["cloneDeep"])(e),r=e.map,i=e.allMap;e.desc||(e.desc=e.payload.szNote),(i||r.includes("-1"))&&(a.map=["-1"]),a.map=a.map.map(Number);var o=x(a),s=w(x(a,!0),null);return a.payload=o,a.lua=s,t&&(a.icon=e.defaultPropsStatus.nIcon?e.payload.nIcon:t.IconID,e.title||e.defaultPropsStatus.szName||(a.name=t.Name||t.BuffName||t.SkillName)),a.client=n,Object(u["pick"])(a,"title","desc","icon","type","map","payload","lua","status","client")}function S(e,t){var n={};for(var a in t)e&&void 0!==e[a]?"object"!==Object(i["a"])(t[a])||Object(u["isArray"])(t[a])?n[a]=e[a]:n[a]=S(e[a],t[a]):n[a]=t[a];return n}function j(e,t){for(var n in h["a"])e.hasOwnProperty(n)||(e[n]=h["a"][n]);e.map&&e.map.length&&(e.map=e.map.map((function(e){return e.toString()}))),e.map.includes("-1")&&(e.allMap=!0);var a=e.payload;for(var r in a)c.includes(r)&&(a[r]=!!a[r]),h["a"].defaultProps.includes(r)&&a[r]&&(e.defaultPropsStatus[r]=!0),b[r]&&(a[r]=b[r](a[r])),m[r]&&(e.payload[r]=m[r][1](e.payload[r])),"uuid"===r&&(e.uuid=a[r],delete a[r]),"pkg"===r&&(e.pkg=a[r],delete a[r]);return e.payload=S(e.payload,v),"CHAT"===e.type&&e.payload.szContent&&(e.payload.szContent.endsWith("\\\n")?(e.keepLR=!0,e.payload.szContent=e.payload.szContent.slice(0,-2)):e.keepLR=!1),e}function P(e,t){try{var n=t||Object(r["a"])({},h["a"]),a=C["serializer"].unserialize(e,{dictType:"object"});if(!a)throw new Error("解析失败");for(var i in n.payload=a[0]||a,n.payload)m[i]&&(n.payload[i]=m[i][1](n.payload[i]));return n=j(n),n}catch(o){throw o}}function L(e){var t;if(t="TALK"===e.type?e.payload.szTarget||"系统警告框":"CHAT"===e.type?e.title||"系统消息":e.payload.szName||e.title||e.payload.szNote||"#Name",e.resolves)for(var n in e.resolves){var r=n.match(/\{\$(\w)(\d+),?(\d+)?\}/),i=Object(a["a"])(r,4),o=(i[0],i[1]),s=i[2],l=i[3];t=t.replaceAll(n,"{$".concat(o).concat(s).concat(l?","+l:"","-").concat(e.resolves[n],"}"))}return t}function E(e){var t,n,a;return["ALL","BUFF","DEBUFF","CASTING"].includes(e.type)?Object(g["n"])(e.icon||(null===(t=e.payload)||void 0===t?void 0:t.nIcon)||0):"TALK"===e.type?Object(g["n"])(e.icon||4835):"CHAT"===e.type?Object(g["n"])(e.icon||3138):"NPC"===e.type?Object(_["a"])("nFrame",(null===(n=e.payload)||void 0===n?void 0:n.nFrame)||47):"DOODAD"===e.type?Object(g["n"])((null===(a=e.payload)||void 0===a?void 0:a.nIcon)||10909):Object(g["n"])()}function T(e){var t,n=null===(t=e.payload)||void 0===t?void 0:t.szContent;if(n)return n.endsWith("\\\n")&&"CHAT"===e.type?n.slice(0,-2):n}},c639:function(e,t,n){"use strict";n("3538")},c7cd:function(e,t,n){"use strict";var a=n("23e7"),r=n("857a"),i=n("af03");a({target:"String",proto:!0,forced:i("fixed")},{fixed:function(){return r(this,"tt","","")}})},cb25:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-std v-additem"},[t("div",{staticClass:"m-header"},[t("h1",{staticClass:"u-title"},[e._v(e._s(e.isEditMode?"构建":"创建")+"元数据")]),t("p",{staticClass:"u-desc"},[e._v(" "+e._s(e.isEditMode?"编辑":"创建")+"元数据，可以创建未捕获但预知的数据，点击查看"),t("a",{attrs:{href:"/tool/17401",target:"_blank"}},[e._v("「帮助文档」")]),e._v("。 ")]),t("div",{staticClass:"u-ops"},[t("el-button",{staticClass:"u-reset",attrs:{plain:"",icon:"el-icon-delete",size:"small",type:"warning"},on:{click:e.reset}},[e._v(" 清空重置 ")]),t("el-button",{staticClass:"u-code",attrs:{plain:"",icon:"el-icon-document",size:"small",type:"primary"},on:{click:e.openCode}},[e._v(" 代码编辑 ")])],1)]),t("div",{staticClass:"m-content"},[t("el-form",{ref:"form",attrs:{model:e.item.payload,"label-width":"120px","label-position":e.layout}},[t("el-form-item",{attrs:{label:"元数据标题",prop:"title"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"u-client i-client",class:"i-client-"+e.client},[e._v(e._s(e.clients[e.client]))]),e._v("标题")]),t("el-input",{staticClass:"u-title",attrs:{placeholder:"必填",maxlength:50,"show-word-limit":""},model:{value:e.item.title,callback:function(t){e.$set(e.item,"title",t)},expression:"item.title"}})],1),t("el-form-item",{attrs:{label:"公开",prop:"status"}},[t("el-switch",{attrs:{"active-value":0,"inactive-value":1},model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}})],1),t("item-type"),t("item-basic",{ref:"basicForm"}),e.hasLimitForm?t("item-limit"):e._e(),t("item-warning"),t("item-countdown",{attrs:{data:e.item.payload.tCountdown,type:e.item.type,icon:e.item.payload.nIcon}}),t("fold-block",{attrs:{name:"other",desc:"其它设置",icon:"el-icon-collection-tag",fold:!1}},[e.hasProp("aCataclysmBuff")?t("el-form-item",{attrs:{label:"茗伊团队面板",prop:"aCataclysmBuff"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v(" 仅茗伊团队面板生效，官方面板不生效。"),t("br"),e._v(" 相同的定义会覆盖上方数值。 ")]),t("div",[e._v(" 茗伊团队面板 "),t("i",{staticClass:"el-icon-info"})])])],1),t("item-panel",{model:{value:e.item.payload.aCataclysmBuff,callback:function(t){e.$set(e.item.payload,"aCataclysmBuff",t)},expression:"item.payload.aCataclysmBuff"}})],1):e._e(),t("el-form-item",{attrs:{label:"备注信息",prop:"szNote"}},[t("el-input",{attrs:{placeholder:"选填",maxlength:20,"show-word-limit":""},model:{value:e.item.payload.szNote,callback:function(t){e.$set(e.item.payload,"szNote",t)},expression:"item.payload.szNote"}})],1)],1)],1)],1),t("el-dialog",{attrs:{visible:e.codeVisible,width:"60%","lock-scroll":!1,center:""},on:{"update:visible":function(t){e.codeVisible=t}}},[t("div",{staticClass:"m-code-dialog-title",attrs:{slot:"title"},slot:"title"},[t("span",[e._v("代码编辑器")])]),t("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入元数据的Lua代码",resize:"none"},model:{value:e.codeInput,callback:function(t){e.codeInput=t},expression:"codeInput"}}),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.codeVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.applyCode}},[e._v("确 定")])],1)],1),t("div",{staticClass:"m-publish"},[e.isLogin?e._e():t("el-divider",{staticClass:"u-tip"},[t("i",{staticClass:"el-icon-user"}),e._v(" 请先"),t("a",{attrs:{href:e.loginURL}},[e._v("登录")])]),t("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-s-promotion",disabled:!e.isLogin},on:{click:e.contribute}},[t("span",{staticClass:"u-txt"},[e._v("发布")])])],1)],1)},r=[],i=n("5530"),o=(n("caad"),n("14d9"),n("b0c0"),n("d3b7"),n("2ef0")),s=n.n(o),l=n("c9d2"),c=n("65c2"),u=n("2bcf"),p=n("bb52"),d=n("1ee8"),f=n("c375"),m=n("d4a6"),b=(n("99af"),n("d81d"),n("e9f5"),n("ab43"),function(){var e=this,t=e._self._c;return t("fold-block",{staticClass:"m-item-form-type",attrs:{name:"type",desc:"数据类型",icon:"el-icon-folder",fold:!1,fixed:!0}},[t("el-form-item",{staticClass:"u-type",attrs:{label:"类型"}},[t("el-select",{model:{value:e.item.type,callback:function(t){e.$set(e.item,"type",t)},expression:"item.type"}},e._l(e.types,(function(n,a){return t("el-option",{key:a,attrs:{label:n,value:a}},[t("span",{staticClass:"u-label"},[e._v(e._s(n))]),t("span",{staticClass:"u-value"},[e._v(e._s(a))])])})),1)],1),t("el-form-item",{staticClass:"u-map",attrs:{label:"地图"}},[e.isEditMode?e._e():t("el-switch",{staticClass:"u-common",attrs:{"active-text":"所有地图通用"},model:{value:e.item.allMap,callback:function(t){e.$set(e.item,"allMap",t)},expression:"item.allMap"}}),e.item.allMap?e._e():t("span",{staticClass:"u-desc"},[e._v(" 可快速搜索过滤，支持多选 ")]),e.item.allMap?e._e():t("div",[t("el-select",{attrs:{filterable:"",placeholder:"请指定地图",clearable:"",multiple:!e.isEditMode,disabled:!e.isEditMode&&e.item.allMap},model:{value:e.item.map,callback:function(t){e.$set(e.item,"map",t)},expression:"item.map"}},e._l(e.mapKeys,(function(n){return t("el-option",{key:n,attrs:{label:"".concat(e.mapIndex[n],"(").concat(n,")"),value:"".concat(n)}},[t("span",{staticClass:"u-label"},[e._v(e._s(e.mapIndex[n]))]),t("span",{staticClass:"u-value"},[e._v(e._s(n))])])})),1)],1)],1)],1)}),h=[],v=n("ade3"),y=n("2f62"),g={name:"ItemFormType",components:{FoldBlock:m["a"]},inject:{isEditMode:{default:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(y["c"])(["item","mapIndex","mapKeys"])),{},{types:function(){var e=f.types;return this.isEditMode?this.isBuffType?{BUFF:e["BUFF"],DEBUFF:e["DEBUFF"]}:Object(v["a"])({},item.type,e[item.type]):e},isBuffType:function(){return["BUFF","DEBUFF"].includes(this.item.type)}})},_=g,C=n("2877"),k=Object(C["a"])(_,b,h,!1,null,null,null),w=k.exports,x=function(){var e=this,t=e._self._c;return t("fold-block",{staticClass:"m-content-basic",attrs:{name:"basic",desc:"基本信息",icon:"el-icon-cpu",fold:!1}},[e.hasProp("dwID")?t("el-form-item",{staticClass:"u-id",attrs:{label:"ID",prop:"dwID"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" ID"),t("b",{staticClass:"u-required"},[e._v("*")])]),t("el-input",{attrs:{placeholder:"请指定ID编号"},on:{blur:e.getResource},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getResource.apply(null,arguments)}},model:{value:e.item.payload.dwID,callback:function(t){e.$set(e.item.payload,"dwID",e._n(t))},expression:"item.payload.dwID"}}),t("span",{staticClass:"u-desc"},[t("i",{staticClass:"el-icon-info"}),t("span",[e._v("可查阅")]),t("a",{attrs:{href:e.databaseUrl,target:"_blank"}},[e._v("剑三数据库")])])],1):e._e(),e.hasProp("nLevel")?t("el-form-item",{staticClass:"u-level",attrs:{prop:"nLevel"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",content:"由于插件限制，BUFF以及技能类监控不设置等级的时候会无法捕捉到而无法触发对应时间，因此请不要置空"}},[t("div",[e._v("等级 "),t("i",{staticClass:"el-icon-info"})])])],1),t("el-input",{attrs:{placeholder:"请指定等级"},on:{blur:e.getResource},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getResource.apply(null,arguments)}},model:{value:e.item.payload.nLevel,callback:function(t){e.$set(e.item.payload,"nLevel",e._n(t))},expression:"item.payload.nLevel"}}),e.hasProp("bCheckLevel")?t("el-checkbox",{staticClass:"u-check-level",on:{change:e.getResource},model:{value:e.item.payload.bCheckLevel,callback:function(t){e.$set(e.item.payload,"bCheckLevel",t)},expression:"item.payload.bCheckLevel"}},[e._v("区分等级")]):e._e()],1):e._e(),e.hasProp("szName")?t("el-form-item",{staticClass:"u-name",attrs:{label:"名称",prop:"szName"}},[t("el-input",{attrs:{placeholder:e.name,disabled:!e.item.defaultPropsStatus.szName},model:{value:e.item.payload.szName,callback:function(t){e.$set(e.item.payload,"szName",t)},expression:"item.payload.szName"}},[t("span",{staticClass:"u-btn",attrs:{slot:"append"},on:{click:function(t){return e.switchDefaultProps("szName")}},slot:"append"},[t("i",{class:e.item.defaultPropsStatus.szName?"el-icon-unlock":"el-icon-lock"})])])],1):e._e(),e.hasProp("nIcon")?t("el-form-item",{staticClass:"u-icon",attrs:{label:"图标",prop:"nIcon"}},[t("el-input",{attrs:{placeholder:e.iconID,disabled:!e.item.defaultPropsStatus.nIcon},model:{value:e.item.payload.nIcon,callback:function(t){e.$set(e.item.payload,"nIcon",e._n(t))},expression:"item.payload.nIcon"}},[t("span",{staticClass:"u-pic",attrs:{slot:"prepend"},slot:"prepend"},[t("img",{attrs:{src:e.iconUrl}})]),t("span",{staticClass:"u-btn",attrs:{slot:"append"},on:{click:function(t){return e.switchDefaultProps("nIcon")}},slot:"append"},[t("i",{class:e.item.defaultPropsStatus.nIcon?"el-icon-unlock":"el-icon-lock"})])]),t("span",{staticClass:"u-desc"},[t("i",{staticClass:"el-icon-info"}),t("span",[e._v("可查阅")]),t("a",{attrs:{href:"/app/design/icon",target:"_blank"}},[e._v("剑三图标大全")])])],1):e._e(),e.hasProp("nFrame")?t("el-form-item",{staticClass:"u-icon",attrs:{label:"图标",prop:"nFrame"}},[t("el-input",{attrs:{placeholder:"仅从右侧选择",disabled:!e.item.defaultPropsStatus.nFrame},model:{value:e.item.payload.nFrame,callback:function(t){e.$set(e.item.payload,"nFrame",e._n(t))},expression:"item.payload.nFrame"}},[t("span",{staticClass:"u-pic",attrs:{slot:"prepend"},slot:"prepend"},[t("img",{attrs:{src:e.getImage("nFrame",e.item.payload.nFrame)}})]),t("span",{staticClass:"u-btn",attrs:{slot:"append"},on:{click:function(t){return e.switchDefaultProps("nFrame")}},slot:"append"},[t("i",{class:e.item.defaultPropsStatus.nFrame?"el-icon-unlock":"el-icon-lock"})])]),e.item.defaultPropsStatus.nFrame?t("span",{staticClass:"u-desc"},[t("el-radio-group",{staticClass:"u-nframe",model:{value:e.item.payload.nFrame,callback:function(t){e.$set(e.item.payload,"nFrame",t)},expression:"item.payload.nFrame"}},e._l(e.npcFrames,(function(n,a){return t("el-radio",{key:a,attrs:{label:n.value}},[t("img",{attrs:{src:e.getImage("nFrame",n.value),title:n.label}})])})),1)],1):e._e()],1):e._e(),e.hasProp("szTarget")?t("el-form-item",{attrs:{label:"喊话对象",prop:"szTarget"}},[t("el-input",{attrs:{placeholder:"NPC名字"},model:{value:e.item.payload.szTarget,callback:function(t){e.$set(e.item.payload,"szTarget",t)},expression:"item.payload.szTarget"}})],1):e._e(),e.hasProp("szContent")?t("el-form-item",{attrs:{label:"TALK"==e.item.type?"喊话内容":"消息内容",prop:"szContent"}},[t("el-input",{attrs:{placeholder:"内容",type:"textarea"},model:{value:e.item.payload.szContent,callback:function(t){e.$set(e.item.payload,"szContent",t)},expression:"item.payload.szContent"}}),t("span",{staticClass:"u-desc"},[t("i",{staticClass:"el-icon-info"}),t("b",[e._v("$me")]),e._v("代表当前玩家名字，"),t("b",[e._v("$team")]),e._v("代表团队内玩家名字，"),t("b",[e._v("(.*?)")]),e._v("代表若干个字符 ")])],1):e._e(),"CHAT"==e.item.type?t("el-form-item",{attrs:{label:"保证换行"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.item.keepLR,callback:function(t){e.$set(e.item,"keepLR",t)},expression:"item.keepLR"}}),t("span",{staticClass:"u-desc"},[t("i",{staticClass:"el-icon-warning-outline"}),e._v(" 大部分系统消息需要开启此功能，如自定义内容时请关闭")])],1):e._e(),e.hasProp("bSearch")?t("el-form-item",{attrs:{label:"子串搜索",prop:"bSearch"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:function(t){return e.mexContent("bSearch")}},model:{value:e.item.payload.bSearch,callback:function(t){e.$set(e.item.payload,"bSearch",t)},expression:"item.payload.bSearch"}}),t("span",{staticClass:"u-desc"},[t("i",{staticClass:"el-icon-warning-outline"}),e._v(" 如不清楚该功能请勿开启，"),t("a",{attrs:{href:e.getLink("tool",17359),target:"_blank"}},[e._v("了解作用")])])],1):e._e(),e.hasProp("bReg")?t("el-form-item",{attrs:{label:"正则匹配",prop:"bReg"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:function(t){return e.mexContent("bReg")}},model:{value:e.item.payload.bReg,callback:function(t){e.$set(e.item.payload,"bReg",t)},expression:"item.payload.bReg"}}),t("span",{staticClass:"u-desc"},[t("i",{staticClass:"el-icon-warning-outline"}),e._v(" 如不清楚该功能请勿开启，"),t("a",{attrs:{href:e.getLink("tool",17359),target:"_blank"}},[e._v("了解作用")])])],1):e._e(),e.resource?t("el-form-item",{staticClass:"u-overview",attrs:{label:"源数据"}},[t("a",{staticClass:"u-resource-preview",attrs:{href:e.resourceUrl,target:"_blank"}},[t("img",{staticClass:"u-icon",attrs:{src:e.iconLink(e.resource.IconID)}}),t("span",{staticClass:"u-name"},[e._v(e._s(e.resource.Name||e.resource.BuffName||e.resource.SkillName))]),t("span",{staticClass:"u-desc"},[e._v(e._s(e.resource.Desc||e.resource.Remark))])])]):e._e()],1)},O=[],F=n("85e4"),S=n("ccfa"),j=n("2f46"),P=n("2d86"),L=n("88fd"),E={name:"ItemBasic",components:{FoldBlock:m["a"]},computed:Object(i["a"])(Object(i["a"])({},Object(y["c"])({item:"item",resource:"resource",client:"client"})),{},{npcFrames:function(){return L},payload:function(){return this.item.payload},databaseType:function(){return j[this.item.type]},databaseUrl:function(){return j[this.item.type]?Object(F["i"])(this.databaseType):""},iconID:function(){var e;return this.payload.nIcon?this.payload.nIcon:"DOODAD"===this.item.type?10909:null!==(e=this.resource.IconID)&&void 0!==e?e:13},iconUrl:function(){return Object(F["n"])(this.iconID)},resourceUrl:function(){return Object(F["i"])(this.databaseType,this.payload.dwID)},name:function(){return this.resource?this.resource.Name||this.resource.BuffName||this.resource.SkillName:"自定义名称"}}),methods:{iconLink:F["n"],getLink:F["i"],getImage:d["a"],hasProp:function(e){return Object(p["b"])(this.item.type,e)},switchDefaultProps:function(e){this.item.defaultPropsStatus[e]=!this.item.defaultPropsStatus[e],this.item.defaultPropsStatus[e]||(this.payload[e]=P[e])},getResource:function(){var e=this,t=this.payload,n=t.dwID,a=t.nLevel;if(n){var r=this.payload.bCheckLevel&&!isNaN(a)&&""!=a?"".concat(n,"_").concat(a):n;this.resource&&this.resource.__key==r||Object(S["c"])(this.client,this.databaseType,r).then((function(t){var n=Object(i["a"])({__key:r},t.data.length?t.data[0]:t.data);e.$store.state.resource=n})).catch((function(t){e.$message.error({message:"数据库未找到匹配的数据，监控将可能不会生效"})}))}},mexContent:function(e){var t="bSearch"==e?"bReg":"bSearch";this.item.payload[e]&&(this.item.payload[t]=!1)}},watch:{},mounted:function(){}},T=E,z=(n("0edf"),Object(C["a"])(T,x,O,!1,null,null,null)),I=z.exports,N=function(){var e=this,t=e._self._c;return e.showLimit?t("fold-block",{staticClass:"m-item-limit",attrs:{name:"target",desc:"限制条件",icon:"el-icon-connection",fold:!1}},[e.hasProp("nScrutinyType")?t("el-form-item",{staticClass:"u-target-type",attrs:{label:"目标类型",prop:"nScrutinyType"}},[t("el-radio-group",{model:{value:e.item.payload.nScrutinyType,callback:function(t){e.$set(e.item.payload,"nScrutinyType",t)},expression:"item.payload.nScrutinyType"}},e._l(e.types.ScrutinyType,(function(n,a){return t("el-radio",{key:a,attrs:{label:a,border:""}},[e._v(e._s(n))])})),1)],1):e._e(),e.hasProp("tKungFu")?t("el-form-item",{staticClass:"u-self-mount",attrs:{label:"自身类型",prop:"tKungFu"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择",filterable:"",clearable:"","allow-create":""},model:{value:e.item.payload.tKungFu,callback:function(t){e.$set(e.item.payload,"tKungFu",t)},expression:"item.payload.tKungFu"}},e._l(e.xfid,(function(n,a){return t("el-option",{key:a,attrs:{label:n,value:a}},[t("span",{staticClass:"u-label"},[e._v(e._s(n))]),t("span",{staticClass:"u-value"},[e._v(e._s(a))])])})),1),t("span",{staticClass:"u-desc"},[e._v("支持多选、支持自定义创建，不指定时为全部心法")])],1):e._e(),e.hasProp("nCount")?t("el-form-item",{attrs:{label:e.countLabel,prop:"nCount"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v('当指定数值时"失去/消失"类事件将不会再触发监控'),t("br")]),t("div",[e._v(" "+e._s(e.countLabel)+" "),t("i",{staticClass:"el-icon-info"})])])],1),t("el-input",{attrs:{placeholder:"可留空"},model:{value:e.item.payload.nCount,callback:function(t){e.$set(e.item.payload,"nCount",e._n(t))},expression:"item.payload.nCount"}}),t("span",{staticClass:"u-desc"},[e._v("不要求时请留空")])],1):e._e(),e.hasProp("bAllLeave")?t("el-form-item",{attrs:{label:"全部消失",prop:"bAllLeave"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.item.payload.bAllLeave,callback:function(t){e.$set(e.item.payload,"bAllLeave",t)},expression:"item.payload.bAllLeave"}}),t("span",{staticClass:"u-desc"},[e._v("消失报警仅在全部消失时才触发")])],1):e._e()],1):e._e()},A=[],$=n("91d4"),D={name:"",components:{FoldBlock:m["a"]},data:function(){return{types:f}},computed:Object(i["a"])(Object(i["a"])({},Object(y["c"])({item:"item",client:"client"})),{},{countLabel:function(){return["BUFF","DEBUFF"].includes(this.type)?"层数达到":"数量达到"},showLimit:function(){return!["TALK","CHAT"].includes(this.type)},xfid:function(){return $}}),methods:{hasProp:function(e){return Object(p["b"])(this.item.type,e)}}},B=D,M=Object(C["a"])(B,N,A,!1,null,"04f72646",null),R=M.exports,V=function(){var e=this,t=e._self._c;return t("fold-block",{attrs:{name:"warning",desc:"报警设置",icon:"el-icon-bell",fold:!1}},[e.hasProp("bTeamPanel")?t("el-form-item",{attrs:{label:"团队面板"}},[e._l(e.typeEvent[e.item.type]["bTeamPanel"],(function(n,a){return t("el-checkbox",{key:"bTeamPanel"+a,model:{value:e.item.payload[n]["bTeamPanel"],callback:function(t){e.$set(e.item.payload[n],"bTeamPanel",t)},expression:"item.payload[event]['bTeamPanel']"}},[e._v(" "+e._s(e.eventMap[n])+" ")])})),e._l(e.typeEvent[e.item.type]["bOnlySelfSrc"],(function(n,a){return t("el-checkbox",{key:"bOnlySelfSrc"+a,attrs:{disabled:!e.item.payload[n]["bTeamPanel"]},model:{value:e.item.payload[n]["bOnlySelfSrc"],callback:function(t){e.$set(e.item.payload[n],"bOnlySelfSrc",t)},expression:"item.payload[event]['bOnlySelfSrc']"}},[e._v(" 仅来源于自己 ")])}))],2):e._e(),e.hasProp("bScreenHead")?t("el-form-item",{attrs:{label:"头顶报警"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v(" BUFF和DEBUFF头顶作用于获得气劲的目标，NPC为监控的NPC；"),t("br"),e._v(" 技能是释放技能的那个目标，而非技能作用的目标。 ")]),t("div",[e._v("头顶报警 "),t("i",{staticClass:"el-icon-info"})])])],1),e._l(e.typeEvent[e.item.type]["bScreenHead"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bScreenHead"],callback:function(t){e.$set(e.item.payload[n],"bScreenHead",t)},expression:"item.payload[event]['bScreenHead']"}},[e._v(" "+e._s(e.eventMap[n])+" ")])}))],2):e._e(),e.hasProp("bCenterAlarm")?t("el-form-item",{attrs:{label:"中央报警"}},e._l(e.typeEvent[e.item.type]["bCenterAlarm"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bCenterAlarm"],callback:function(t){e.$set(e.item.payload[n],"bCenterAlarm",t)},expression:"item.payload[event]['bCenterAlarm']"}},[e._v(e._s(e.eventMap[n]))])})),1):e._e(),e.hasProp("bFullScreen")?t("el-form-item",{attrs:{label:"全屏泛光"}},e._l(e.typeEvent[e.item.type]["bFullScreen"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bFullScreen"],callback:function(t){e.$set(e.item.payload[n],"bFullScreen",t)},expression:"item.payload[event]['bFullScreen']"}},[e._v(e._s(e.eventMap[n]))])})),1):e._e(),e.hasProp("bBuffList")?t("el-form-item",{attrs:{label:"自身气劲列表"}},e._l(e.typeEvent[e.item.type]["bBuffList"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bBuffList"],callback:function(t){e.$set(e.item.payload[n],"bBuffList",t)},expression:"item.payload[event]['bBuffList']"}},[e._v(e._s(e.eventMap[n]))])})),1):e._e(),e.hasProp("bPartyBuffList")?t("el-form-item",{attrs:{label:"团队气劲列表"}},e._l(e.typeEvent[e.item.type]["bPartyBuffList"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bPartyBuffList"],callback:function(t){e.$set(e.item.payload[n],"bPartyBuffList",t)},expression:"item.payload[event]['bPartyBuffList']"}},[e._v(e._s(e.eventMap[n]))])})),1):e._e(),e.hasProp("bTeamChannel")?t("el-form-item",{attrs:{label:"团队通知"}},e._l(e.typeEvent[e.item.type]["bTeamChannel"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bTeamChannel"],callback:function(t){e.$set(e.item.payload[n],"bTeamChannel",t)},expression:"item.payload[event]['bTeamChannel']"}},[e._v(e._s(e.eventMap[n]))])})),1):e._e(),e.hasProp("bWhisperChannel")?t("el-form-item",{attrs:{label:"密聊通知"}},e._l(e.typeEvent[e.item.type]["bWhisperChannel"],(function(n,a){return t("el-checkbox",{key:a,model:{value:e.item.payload[n]["bWhisperChannel"],callback:function(t){e.$set(e.item.payload[n],"bWhisperChannel",t)},expression:"item.payload[event]['bWhisperChannel']"}},[e._v(e._s(e.eventMap[n]))])})),1):e._e(),e.hasProp("szVoice")?t("el-form-item",{staticClass:"u-voice",attrs:{label:"语音报警"}},e._l(e.typeEvent[e.item.type]["szVoice"],(function(n,a){return t("div",{key:a},[e.typeEvent[e.item.type]["szVoice"]["length"]>1?t("div",{staticClass:"u-voice-title"},[t("i",{staticClass:"el-icon-price-tag"}),e._v(" "+e._s(e.eventMap[n])+" ")]):e._e(),t("div",{staticClass:"u-voice-settings"},[t("el-cascader",{attrs:{props:{emitPath:!1},size:"mini",clearable:!0,filterable:!0,options:e.slugs,"show-all-levels":!1},model:{value:e.item.payload[n]["szVoice"],callback:function(t){e.$set(e.item.payload[n],"szVoice",t)},expression:"item.payload[event]['szVoice']"}}),t("el-switch",{attrs:{size:"mini","inactive-value":!1,"active-value":!0,"active-text":"仅在自身气劲下播放"},model:{value:e.item.payload[n]["bVoiceSelfOnly"],callback:function(t){e.$set(e.item.payload[n],"bVoiceSelfOnly",t)},expression:"item.payload[event]['bVoiceSelfOnly']"}}),t("el-input",{attrs:{size:"mini",clearable:!0},model:{value:e.item.payload[n]["szVoice"],callback:function(t){e.$set(e.item.payload[n],"szVoice",t)},expression:"item.payload[event]['szVoice']"}})],1)])})),0):e._e(),e.hasProp("tMark")?t("el-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},domProps:{innerHTML:e._s(e.tMarkLabel)},slot:"content"}),t("div",[e._v("设置标记 "),t("i",{staticClass:"el-icon-info"})])])],1),e._l(e.typeEvent[e.item.type]["tMark"],(function(n,a){return t("div",{key:a},[e.typeEvent[e.item.type]["tMark"]["length"]>1?t("div",{staticClass:"u-mark-groupname"},[t("i",{staticClass:"el-icon-price-tag"}),e._v(" "+e._s(e.eventMap[n])+" ")]):e._e(),t("div",{staticClass:"u-mark-group"},e._l(e.tmarks,(function(a,r){return t("el-checkbox",{key:r,model:{value:e.item.payload[n]["tMark"][r],callback:function(t){e.$set(e.item.payload[n]["tMark"],r,t)},expression:"item.payload[event]['tMark'][j]"}},[t("img",{attrs:{src:e.getImage("tMark",r),alt:a,title:a}})])})),1)])}))],2):e._e(),e.hasProp("aFocus")?t("el-form-item",{staticClass:"u-focus",attrs:{label:"添加焦点"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v(" 仅开启茗伊焦点列表并设置关联方可生效 "),t("br"),e._v(" 高级设置不设置时则只要出现则添加焦点 ")]),t("div",[e._v("添加焦点 "),t("i",{staticClass:"el-icon-info"})])])],1),t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.item.defaultPropsStatus.aFocus,callback:function(t){e.$set(e.item.defaultPropsStatus,"aFocus",t)},expression:"item.defaultPropsStatus.aFocus"}}),e.item.defaultPropsStatus.aFocus?t("item-focus",{model:{value:e.item.payload.aFocus,callback:function(t){e.$set(e.item.payload,"aFocus",t)},expression:"item.payload.aFocus"}}):e._e()],1):e._e(),t("el-form-item",{attrs:{label:"报警颜色",prop:"col"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",content:"11"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v(" 包括：团队面板BUFF/DEBUFF描边颜色、自身气劲列表、头顶报警 "),t("br"),e._v(" 其优先级较低，自身气劲列表颜色仅此处设置生效 ")]),t("div",[e._v("报警颜色 "),t("i",{staticClass:"el-icon-info"})])])],1),t("el-color-picker",{attrs:{"color-format":"rgb"},model:{value:e.item.payload.col,callback:function(t){e.$set(e.item.payload,"col",t)},expression:"item.payload.col"}})],1)],1)},U=[],W=n("9653"),H=n("da2c"),K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-focus"},[e._l(e.data,(function(n,a){return t("div",{key:a,staticClass:"m-focus-item"},[t("div",{staticClass:"u-relation"},[t("span",{staticClass:"u-label"},[e._v("目标关系要求：")]),t("el-checkbox",{model:{value:n["tRelation"]["bAll"],callback:function(t){e.$set(n["tRelation"],"bAll",t)},expression:"item['tRelation']['bAll']"}},[e._v("全部")]),t("el-checkbox",{attrs:{disabled:n["tRelation"]["bAll"]},model:{value:n["tRelation"]["bAlly"],callback:function(t){e.$set(n["tRelation"],"bAlly",t)},expression:"item['tRelation']['bAlly']"}},[e._v("非敌对目标")]),t("el-checkbox",{attrs:{disabled:n["tRelation"]["bAll"]},model:{value:n["tRelation"]["bEnemy"],callback:function(t){e.$set(n["tRelation"],"bEnemy",t)},expression:"item['tRelation']['bEnemy']"}},[e._v("敌对目标")])],1),t("div",{staticClass:"u-op"},[t("span",{staticClass:"u-label"},[e._v("指定血量要求：")]),t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:n["tLife"]["bEnable"],callback:function(t){e.$set(n["tLife"],"bEnable",t)},expression:"item['tLife']['bEnable']"}}),t("el-select",{staticClass:"u-op-opr",attrs:{placeholder:"请选择比较符号",size:"small",clearable:""},model:{value:n["tLife"]["szOperator"],callback:function(t){e.$set(n["tLife"],"szOperator",t)},expression:"item['tLife']['szOperator']"}},e._l(e.op,(function(e,n){return t("el-option",{key:n,attrs:{label:e,value:e}})})),1),t("el-input",{staticClass:"u-op-value",attrs:{placeholder:"",size:"small",clearable:""},model:{value:n["tLife"]["nValue"],callback:function(t){e.$set(n["tLife"],"nValue",e._n(t))},expression:"item['tLife']['nValue']"}},[t("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),t("div",[t("span",{staticClass:"u-label"},[e._v("生效距离限制：")]),t("el-input",{attrs:{placeholder:"可留空，推荐35",size:"small"},model:{value:n["nMaxDistance"],callback:function(t){e.$set(n,"nMaxDistance",e._n(t))},expression:"item['nMaxDistance']"}})],1),t("div",[t("span",{staticClass:"u-label"},[e._v("替换焦点名称：")]),t("el-input",{attrs:{placeholder:"可留空",size:"small"},model:{value:n["szDisplay"],callback:function(t){e.$set(n,"szDisplay",e._n(t))},expression:"item['szDisplay']"}})],1),e.data.length>1?t("div",{staticClass:"u-del"},[t("el-button",{attrs:{plain:"",size:"mini",type:"danger",icon:"el-icon-circle-close"},on:{click:function(t){return e.del(a)}}},[e._v("移除焦点")])],1):e._e()])})),t("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-circle-plus"},on:{click:e.add}},[e._v("增加焦点")])],2)},G=[],J=(n("a434"),n("8da1")),q=n("8c3d"),Q={name:"itemFocus",props:["origin"],model:{prop:"origin",event:"update"},data:function(){return{data:this.origin&&this.origin.length?this.origin:[Object(o["cloneDeep"])(q)],op:J}},watch:{data:{deep:!0,handler:function(e){this.$emit("update",e)}},origin:{deep:!0,handler:function(e){this.data=e||[Object(o["cloneDeep"])(q)]}}},methods:{add:function(){this.data.push(Object(o["cloneDeep"])(q))},del:function(e){this.data.splice(e,1)}},mounted:function(){},components:{}},Y=Q,X=(n("f6a6"),Object(C["a"])(Y,K,G,!1,null,null,null)),Z=X.exports,ee={name:"",components:{FoldBlock:m["a"],ItemFocus:Z},data:function(){return{tmarks:H,types:f,typeEvent:W,eventMap:f.events}},computed:Object(i["a"])(Object(i["a"])({},Object(y["c"])(["item","client","slugs"])),{},{type:function(){return this.item.type},tMarkLabel:function(){return"BUFF"==this.type||"DEBUFF"==this.type?"可用于当获得气劲时，给获得气劲的玩家设置一个标记。<br/> 例如开启了白云和扇子两个标记，则第一个使用白云标记，第二个使用扇子标记。<br/> 当获得气劲玩家的数目超过标记数时，后续的玩家将不会再获得标记。":"CASTING"==this.type?"给释放技能的目标设置标记，而不是技能的目标。":"NPC"==this.type?"在相同触发条件下，只给第一个NPC。":""}}),methods:{getImage:d["a"],hasProp:function(e){return Object(p["b"])(this.item.type,e)}}},te=ee,ne=Object(C["a"])(te,V,U,!1,null,"01718a40",null),ae=ne.exports,re=(n("a9e3"),function(){var e=this,t=e._self._c;return t("fold-block",{staticClass:"m-countdown",attrs:{name:"countdown",desc:"倒计时条",icon:"el-icon-alarm-clock",fold:!1}},[t("el-button",{staticClass:"u-countdown-add",attrs:{icon:"el-icon-circle-plus-outline",plain:"",size:"small"},on:{click:e.add}},[e._v(" 添加计时条 ")]),t("div",{staticClass:"u-table-wrapper"},[e.data.length?t("table",{staticClass:"u-countdown-table"},[t("thead",[t("th"),t("th",{staticClass:"u-condition"},[e._v("触发条件")]),t("th",[t("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v(" 普通倒计时：10"),t("br"),e._v(" 分段倒计时：3,第一段倒计时;10,第二段倒计时;"),t("br"),e._v(" 血量倒计时：0.7,达到70%准备下P2距离P2第一次大招还剩3秒,3 "),t("br"),e._v(" 清空倒计时：0（清空与该倒计时拥有相同 倒计时唯一标识 的所有当前存在的倒计时 以及 其对应的 倒计时重复调用时间限制）"),t("br"),e._v(" 清空倒计时：-1（将会清空与该倒计时拥有相同 倒计时唯一标识 的所有当前存在的倒计时；不会清空其对应的 倒计时重复调用时间限制）"),t("br"),e._v(" 清空倒计时：-2（将会清空与该倒计时拥有相同 倒计时唯一标识 的 倒计时重复调用时间限制；不会清空其当前存在的 倒计时）"),t("br"),e._v(" *请注意标点需要使用半角 ")]),t("div",[t("i",{staticClass:"el-icon-info"}),e._v(" 倒计时/时间轴")])])],1),t("th",[t("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[t("div",{staticClass:"u-tips",attrs:{slot:"content"},slot:"content"},[e._v(" {$me} 当前角色名"),t("br"),e._v(" {$sender} 事件发起者"),t("br"),e._v(" {$receiver} 事件接收者"),t("br"),e._v(" {$B--} Buff名称，--为ID数字"),t("br"),e._v(" {$S--} 技能名称，--为ID数字"),t("br"),e._v(" {$N--} NPC名称，--为ID数字"),t("br"),e._v(" {$D--} 物品名称，--为ID数字"),t("br"),e._v(" {$M--} 地图名称，--为ID数字 ")]),t("div",[t("i",{staticClass:"el-icon-info"}),e._v(" 计时条文字")])])],1),t("th",[t("el-tooltip",{attrs:{effect:"dark",placement:"top",content:"在此时间内，该倒计时不会被刷新重新计时"}},[t("div",[t("i",{staticClass:"el-icon-info"}),e._v(" 重复调用限制")])])],1),t("th",[e._v("唯一识别符")]),t("th",[e._v("过图不消失")]),t("th",[t("el-tooltip",{attrs:{effect:"dark",placement:"top",content:"默认使用原图标或缺省图标13"}},[t("div",[t("i",{staticClass:"el-icon-info"}),e._v(" 图标")])])],1),t("th",[e._v("颜色")]),t("th",[e._v("团队通知")]),t("th",[e._v("移除")])]),t("draggable",{attrs:{handle:".u-drag-arrow",tag:"tbody",animation:"500"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},e._l(e.data,(function(n,a){return t("tr",{key:a},[t("td",{staticClass:"u-drag-arrow"},[t("i",{staticClass:"el-icon-rank"})]),t("td",[t("el-select",{staticClass:"u-condition",attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:n.nClass,callback:function(t){e.$set(n,"nClass",e._n(t))},expression:"line.nClass"}},e._l(e.events,(function(n,a){return t("el-option",{key:a,staticClass:"u-countdown-condition-item",class:{on:e.hasProp(a)},attrs:{label:n,value:Number(a)}})})),1)],1),t("td",{attrs:{colspan:e.showSzName(n)?1:2}},[t("el-input",{attrs:{placeholder:"倒计时/分段计时",size:"small"},model:{value:n.nTime,callback:function(t){e.$set(n,"nTime",t)},expression:"line.nTime"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-edit"},on:{click:function(t){return e.editLine(n)}},slot:"append"})],1)],1),e.showSzName(n)?t("td",[t("el-input",{attrs:{placeholder:"计时条文字",size:"small"},model:{value:n.szName,callback:function(t){e.$set(n,"szName",t)},expression:"line.szName"}})],1):e._e(),t("td",[t("el-input",{staticClass:"u-refresh",attrs:{placeholder:"",size:"small"},model:{value:n.nRefresh,callback:function(t){e.$set(n,"nRefresh",e._n(t))},expression:"line.nRefresh"}})],1),t("td",[t("el-input",{staticClass:"u-key",attrs:{placeholder:"如不清楚请留空",size:"small"},model:{value:n.key,callback:function(t){e.$set(n,"key",t)},expression:"line.key"}})],1),t("td",[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:n.bHold,callback:function(t){e.$set(n,"bHold",t)},expression:"line.bHold"}})],1),t("td",[t("el-input",{staticClass:"u-icon",attrs:{placeholder:"",size:"small"},model:{value:n.nIcon,callback:function(t){e.$set(n,"nIcon",e._n(t))},expression:"line.nIcon"}},[t("img",{staticClass:"u-pic",attrs:{slot:"prepend",src:e.getIcon(n.nIcon)},slot:"prepend"})])],1),t("td",[t("el-select",{staticClass:"u-color-select",attrs:{width:20,placeholder:"","popper-class":"m-color-select-popper"},model:{value:n.nFrame,callback:function(t){e.$set(n,"nFrame",e._n(t))},expression:"line.nFrame"}},[e._l(e.cdcolors,(function(n,a){return t("el-option",{key:a,attrs:{value:a,label:""}},[t("div",{staticClass:"u-color-option",style:{background:e.bgColor(a)}},[e._v(" "+e._s(a)+": "+e._s(n)+" ")])])})),t("span",{staticClass:"u-color-block",style:{background:e.bgColor(n.nFrame)},attrs:{slot:"prefix"},slot:"prefix"})],2)],1),t("td",[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:n.bTeamChannel,callback:function(t){e.$set(n,"bTeamChannel",t)},expression:"line.bTeamChannel"}})],1),t("td",[t("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.del(a)}}},[e._v(" 删除 ")])],1)])})),0)],1):e._e()]),t("item-countdown-edit",{ref:"countdownEdit"})],1)}),ie=[],oe=(n("7d54"),n("159b"),n("f391")),se=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"custom-class":"m-item-countdown-edit",title:"编辑倒计时",width:"1000px","append-to-body":!0,"lock-scroll":!1,center:!0,visible:e.visible,"close-on-click-modal":!1},on:{close:function(t){e.visible=!1}}},[t("el-divider",{attrs:{"content-position":"left"}},[t("i",{staticClass:"el-icon-files"}),e._v(" 生成预览")]),t("el-input",{staticClass:"u-countdown-content",attrs:{disabled:!0},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),t("el-divider",{attrs:{"content-position":"left"}},[t("i",{staticClass:"el-icon-alarm-clock"}),e._v(" 计时项")]),t("div",{staticClass:"u-countdown-sections"},[e.sections.length?t("table",[t("thead",[t("tr",[t("th"),t("th",[e._v("持续时间/血量节点")]),t("th",[e._v("提示内容")]),t("th",[e._v("语音")]),t("th")])]),t("draggable",{attrs:{handle:".u-drag-arrow",tag:"tbody",animation:"500"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.sections,callback:function(t){e.sections=t},expression:"sections"}},e._l(e.sections,(function(n,a){return t("tr",{key:a},[t("td",{staticClass:"u-drag-arrow"},[t("i",{staticClass:"el-icon-rank"})]),t("td",[t("el-input",{attrs:{size:"mini",placeholder:"血量节点"},model:{value:n.node,callback:function(t){e.$set(n,"node",t)},expression:"section.node"}})],1),t("td",[t("el-input",{attrs:{size:"mini",placeholder:"提示"},model:{value:n.label,callback:function(t){e.$set(n,"label",t)},expression:"section.label"}})],1),t("td",[t("div",{staticClass:"u-voice-about"},[t("el-cascader",{attrs:{props:{emitPath:!1},size:"mini",clearable:!0,filterable:!0,options:e.slugs,"show-all-levels":!1},model:{value:n.voice,callback:function(t){e.$set(n,"voice",t)},expression:"section.voice"}})],1)]),t("td",[t("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-delete",plain:""},on:{click:function(t){return e.delSection(a)}}},[e._v(" 删除 ")])],1)])})),0)],1):e._e(),t("el-button",{staticClass:"u-countdown-add",attrs:{size:"mini",icon:"el-icon-plus",type:"primary",plain:""},on:{click:e.addSection}},[e._v("新增")])],1),t("div",{staticClass:"u-choose-voice"}),t("el-divider",{attrs:{"content-position":"left"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",content:"暂时只支持预览时间节点"}},[t("div",[t("i",{staticClass:"el-icon-time"}),e._v(" 效果预览 "),t("i",{staticClass:"el-icon-info"})])])],1),t("div",{staticClass:"u-countdown-preview__wrapper"},[t("div",{staticClass:"u-countdown-preview"},[t("img",{staticClass:"u-countdown-icon",attrs:{src:e.iconUrl}}),t("div",{staticClass:"u-countdown-bar",style:e.barStyle}),t("span",{staticClass:"u-countdown-tip"},[e._v(e._s(e.play_content))]),t("span",{staticClass:"u-countdown-time"},[e._v(e._s(e.play_time)+"s")])]),t("div",{staticClass:"u-preview-setting"},[t("vpk-select",{model:{value:e.play_vpk,callback:function(t){e.play_vpk=t},expression:"play_vpk"}}),e.playing?t("el-button",{staticClass:"u-countdown-preview-play",attrs:{icon:"el-icon-refresh-right",plain:"",size:"small"},on:{click:e.preview}},[e._v(" 停止 ")]):t("el-button",{staticClass:"u-countdown-preview-play",attrs:{icon:"el-icon-video-play",disabled:!e.sections.length,type:"primary",plain:"",size:"small"},on:{click:e.preview}},[e._v(" 预览 ")])],1)]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},le=[],ce=n("3835"),ue=n("b85c"),pe=(n("4de4"),n("7db0"),n("a15b"),n("910d"),n("f665"),n("b680"),n("b76a")),de=n.n(pe),fe=n("66d1"),me=n("584f"),be=n("fda2"),he=n("0ea9"),ve={name:"ItemCountdownEdit",components:{draggable:de.a,VpkSelect:he["a"]},props:{},data:function(){return{drag:!0,defaultSection:{node:0,label:"",voice:"",voice_official:!0},index:0,line:null,visible:!1,content:"",sections:[],playing:!1,play_timer:null,play_content:"DBM内容",play_time:1,play_bar_width:100,play_vpk:12,play_voice_list:[]}},methods:{parseContent:function(e){if(e){var t,n=e.split(";"),a=Object(ue["a"])(n);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=r.split(","),o=Object(ce["a"])(i,3),s=o[0],l=o[1],c=o[2];if(c){var u=c.split(":"),p=Object(ce["a"])(u,2),d=(p[0],p[1]),f=!0;this.sections.push({node:s,label:l,voice:d,voice_official:f})}else this.sections.push({node:s,label:l,voice:null})}}catch(m){a.e(m)}finally{a.f()}}},open:function(e){this.reset(),this.visible=!0,this.line=e,isNaN(e.nTime)?this.content=e.nTime:this.content="".concat(e.nTime,",").concat(e.szName),this.parseContent(this.content),this.drag=!1},reset:function(){this.content="",this.line=null,this.sections=[]},save:function(){this.$set(this.line,"nTime",this.content),this.reset(),this.visible=!1},addSection:function(){this.sections.push(Object(i["a"])({},this.defaultSection))},delSection:function(e){this.sections=this.sections.filter((function(t,n){return n!==e}))},playVoice:function(e){if(e&&e.voice){var t=e.voice,n=this.play_voice_list.find((function(e){return e.slug===t}));if(n){var a=n.filename,r=Object(be["b"])(a),i=new Audio(r);i.play()}}},preview:function(){var e=this;if(this.playing)this.stopPreview();else{this.playing=!0;var t=Object(o["sortBy"])(Object(o["cloneDeep"])(this.sections),"node"),n=(new Date).getTime()/1e3,a=t.shift(),r=a.node;this.playVoice(a),this.play_timer=setInterval((function(){var i,o=(new Date).getTime()/1e3-n;a&&o>=a.node&&(a=t.shift(),r=(null===(i=a)||void 0===i?void 0:i.node)-o,e.playVoice(a));a?(e.play_time=(a.node-o).toFixed(0),e.play_bar_width=(a.node-o)/r*100,e.play_content=a.label):e.stopPreview()}),10)}},stopPreview:function(){this.playing=!1,clearInterval(this.play_timer),this.play_queue=[],this.play_content="DBM内容",this.play_time="-",this.play_bar_width=100},getVoiceList:function(){var e=this;this.play_vpk_loading=!0,Object(me["f"])(this.play_vpk).then((function(t){var n=t.data,a=n.code,r=n.data;n.msg;0===a&&(e.play_voice_list=r.voices)}))}},computed:Object(i["a"])(Object(i["a"])({},Object(y["c"])(["slugs"])),{},{iconUrl:function(){if(!this.line)return Object(F["n"])(13);var e=this.line.nIcon||13;return Object(F["n"])(e)},barColor:function(){if(!this.line)return fe[7];var e=fe[this.line.nFrame]||fe[7];return e},barStyle:function(){return{background:this.barColor,width:"calc(".concat(this.play_bar_width,"% - 26px)")}}}),watch:{play_vpk:{immediate:!0,handler:function(){this.getVoiceList()}},sections:{deep:!0,handler:function(){var e=this.sections.map((function(e){var t=e.node,n=e.label,a=e.voice,r=(e.voice_official,"".concat(t,",").concat(null!==n&&void 0!==n?n:""));return a&&(r+=",VO:".concat(a)),r}));this.content=e.join(";")}}}},ye=ve,ge=(n("c639"),Object(C["a"])(ye,se,le,!1,null,null,null)),_e=ge.exports,Ce={name:"itemCountdown",props:["data","type","icon"],data:function(){return{defaultItem:{nClass:"",nTime:"",szName:"",nRefresh:"",key:"",bHold:!1,nIcon:this.icon||13,nFrame:"",bTeamChannel:!1},events:f.events,drag:!1,cdcolors:fe}},watch:{data:{deep:!0,handler:function(e){e.forEach((function(e){e.nTime&&!isNaN(e.nTime)&&(e.nTime=Number(e.nTime))})),this.$emit("update",e)}},icon:function(e){this.defaultItem.nIcon=e||13}},methods:{iconLink:F["n"],getIcon:oe["b"],hasProp:function(e){return Object(p["b"])(this.item.type,e)},bgColor:function(e){return fe[e]},add:function(){this.data.push(Object(o["cloneDeep"])(this.defaultItem))},del:function(e){this.data.splice(e,1)},reset:function(){this.data=Object(o["cloneDeep"])(this.defaultItem)},showSzName:function(e){return!e.nTime||!isNaN(Number(e.nTime))},editLine:function(e,t){this.$refs["countdownEdit"].open(e,t)}},computed:Object(i["a"])({},Object(y["c"])(["item"])),components:{FoldBlock:m["a"],draggable:de.a,ItemCountdownEdit:_e}},ke=Ce,we=(n("1d69"),Object(C["a"])(ke,re,ie,!1,null,null,null)),xe=we.exports,Oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-my-panel"},[e._l(e.data,(function(n,a){return t("div",{key:a,staticClass:"m-my-panel-item"},[t("div",{staticClass:"u-item u-op"},[e._v(" 限定层数： "),t("el-select",{staticClass:"u-op-opr",attrs:{placeholder:"比较符号",size:"small",clearable:""},model:{value:n["szStackOp"],callback:function(t){e.$set(n,"szStackOp",t)},expression:"item['szStackOp']"}},e._l(e.op,(function(e,n){return t("el-option",{key:n,attrs:{label:e,value:e}})})),1),t("el-input",{staticClass:"u-op-value",attrs:{placeholder:"",size:"small"},model:{value:n["nStackNum"],callback:function(t){e.$set(n,"nStackNum",e._n(t))},expression:"item['nStackNum']"}}),e._m(0,!0)],1),t("div",{staticClass:"u-item"},[e._v(" 条件限制： "),t("el-checkbox",{model:{value:n["bOnlyMine"],callback:function(t){e.$set(n,"bOnlyMine",t)},expression:"item['bOnlyMine']"}},[e._v("仅来源自己")]),t("span",{staticClass:"u-space"}),t("el-checkbox",{model:{value:n["bOnlyMe"],callback:function(t){e.$set(n,"bOnlyMe",t)},expression:"item['bOnlyMe']"}},[e._v("仅监控自己")])],1),t("div",{staticClass:"u-item"},[e._v(" 特效警告： "),t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:n["bCaution"],callback:function(t){e.$set(n,"bCaution",t)},expression:"item['bCaution']"}}),e._m(1,!0)],1),t("div",{staticClass:"u-item"},[e._v(" 头顶警告： "),t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:n["bScreenHead"],callback:function(t){e.$set(n,"bScreenHead",t)},expression:"item['bScreenHead']"}}),t("span",{staticClass:"u-space"}),t("el-color-picker",{attrs:{size:"small"},model:{value:n.colScreenHead,callback:function(t){e.$set(n,"colScreenHead",t)},expression:"item.colScreenHead"}}),e._m(2,!0)],1),t("div",{staticClass:"u-item"},[e._v(" 蒙版警告： "),t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:n["bAttention"],callback:function(t){e.$set(n,"bAttention",t)},expression:"item['bAttention']"}}),t("span",{staticClass:"u-space"}),t("el-color-picker",{attrs:{size:"small"},on:{change:function(t){return e.calcMIX(a)}},model:{value:n.colors,callback:function(t){e.$set(n,"colors",t)},expression:"item.colors"}}),e._m(3,!0)],1),t("div",{staticClass:"u-item"},[e._v(" 描边透明度："),t("el-slider",{attrs:{min:0,max:255,"input-size":"mini","show-input":!1},model:{value:n.nColAlpha,callback:function(t){e.$set(n,"nColAlpha",e._n(t))},expression:"item.nColAlpha"}})],1),t("span",{staticStyle:{display:"none"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.col,expression:"item.col"}],attrs:{type:"text"},domProps:{value:n.col},on:{input:function(t){t.target.composing||e.$set(n,"col",t.target.value)}}})]),t("div",{staticClass:"u-item"},[e._v(" 优先级别： "),t("el-input",{staticClass:"u-text",attrs:{placeholder:"",size:"small"},model:{value:n["nPriority"],callback:function(t){e.$set(n,"nPriority",e._n(t))},expression:"item['nPriority']"}}),e._m(4,!0)],1),t("div",{staticClass:"u-item"},[e._v(" 备注说明： "),t("el-input",{staticClass:"u-text",attrs:{placeholder:"",size:"small"},model:{value:n["szReminder"],callback:function(t){e.$set(n,"szReminder",t)},expression:"item['szReminder']"}}),e._m(5,!0)],1),t("div",{staticClass:"u-del"},[t("el-button",{attrs:{plain:"",size:"mini",type:"danger",icon:"el-icon-circle-close"},on:{click:function(t){return e.del(a)}}},[e._v("移除监控")])],1)])})),t("el-button",{attrs:{plain:"",icon:"el-icon-circle-plus-outline"},on:{click:e.add}},[e._v("增加监控")])],2)},Fe=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"u-desc"},[t("em",[e._v("（不指定时为等于1）")])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"u-desc"},[t("em",[e._v("（花括号闪动效果）")])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"u-desc"},[t("em",[e._v("（头顶名字高亮）")])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"u-desc"},[t("em",[e._v("（半透明遮挡效果，同时覆盖默认图标边框色）")])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"u-desc"},[t("em",[e._v("（0为最大,数字越小优先级越高）")])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"u-desc"},[t("em",[e._v("（仅显示第一个字符）")])])}];n("fb6a"),n("25f0"),n("13d5"),n("9485");function Se(e){for(var t,n=e.length,a=new Array(n),r=0;r<n;r++)t=e.charCodeAt(r),48<=t&&t<58?t-=48:t=(223&t)-65+10,a[r]=t;return a.reduce((function(e,t){return e=16*e+t,e}),0)}var je=Se,Pe=n("4a77"),Le={name:"ItemPanel",props:["origin"],model:{prop:"origin",event:"update"},data:function(){return{data:this.origin&&this.origin.length?this.origin:[],op:J,shouldUpdate:!0}},watch:{data:{deep:!0,handler:function(e){var t=this;e.forEach((function(e){t.calcMIX(e)}));var n,a=Object(ue["a"])(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;for(var i in r)void 0===Pe[i]&&delete r[i]}}catch(o){a.e(o)}finally{a.f()}this.$emit("update",e)}},origin:{deep:!0,handler:function(e){this.shouldUpdate&&(this.shouldUpdate=!1,e?(e.forEach((function(e){if(e.col){var t=e.col;e.nColAlpha=je(t.slice(7)),e.__colors=t.slice(0,7)}})),this.data=e):this.data=[s.a.cloneDeep(Pe)],this.shouldUpdate=!0)}}},methods:{add:function(){this.data.push(s.a.cloneDeep(Pe))},del:function(e){this.data.splice(e,1)},calcMIX:function(e){var t=e.nColAlpha,n=e.colors;n&&t&&(t=t<16?"0"+t.toString(16):t.toString(16),e.col=e.colors+t)}}},Ee=Le,Te=(n("1c42"),Object(C["a"])(Ee,Oe,Fe,!1,null,null,null)),ze=Te.exports,Ie={name:"ItemEdit",props:[],data:function(){return{overview:"",codeVisible:!1,codeInput:"",isLogin:l["a"].isLogin(),loginURL:Object(d["b"])(),isVIP:l["a"].getInfo().group>30,isSuper:l["a"].getInfo().group>60,loading:!1,layout:window.innerWidth<1024?"top":"left",clients:c["__clients"]}},computed:Object(i["a"])(Object(i["a"])({},Object(y["c"])({item:"item",resource:"resource",client:"client"})),{},{client:function(){return this.$store.state.client},type:function(){return this.item.type},hasLimitForm:function(){return!["TALK","CHAT"].includes(this.item.type)},item_id:function(){return this.$route.params.id},isEditMode:function(){return"item_edit"==this.$route.name&&this.item_id}}),methods:{hasProp:function(e){return Object(p["b"])(this.item.type,e)},reset:function(){this.$store.commit("RESET_ITEM")},contribute:function(){var e=this;this.item.title?!this.hasProp("dwID")||this.item.payload.dwID&&!isNaN(0!=this.item.payload.dwID)?this.isEditMode?Object(u["s"])(this.item.id,Object(p["i"])(this.item,this.resource,this.client)).then((function(t){var n=t.data,a=n.code,r=n.msg;n.data;0==a?(e.$message({message:"更新成功",type:"success"}),e.$router.push({name:"item_detail_raw",params:{id:e.item_id}})):e.$message({message:r,type:"error"})})):Object(u["g"])(Object(p["i"])(this.item,this.resource,this.client)).then((function(t){var n=t.data,a=n.code,r=n.msg,i=n.data;0==a?(e.$message({message:"提交成功",type:"success"}),e.$router.push({name:"item_detail_raw",params:{id:i.id}})):e.$message({message:r,type:"error"})})):this.$alert("ID为必填字段且必须为数字","消息",{confirmButtonText:"确定"}):this.$alert("标题为必填字段","消息",{confirmButtonText:"确定"})},load:function(){var e=this;this.loading=!0,Object(u["p"])(this.item_id).then((function(t){var n=t.data.data;n?(e.$store.state.item=Object(p["a"])(n),e.$refs["basicForm"].getResource()):e.$message({message:"未找到匹配数据项",type:"error"})})).finally((function(){e.loading=!1}))},openCode:function(){this.codeVisible=!0,this.codeInput=Object(p["h"])(this.item)},applyCode:function(){var e=this.codeInput;try{var t=Object(p["d"])(e,this.item);this.$store.state.item=t,this.codeVisible=!1,this.$refs["basicForm"].getResource()}catch(n){console.error(n),this.$message({message:"代码解析失败, 请打开F12查看错误信息",type:"error"})}},initQuery:function(){var e=this.$route.query,t=e.type,n=e.id,a=e.level,r=e.title;t&&f.types[t]&&(this.item.type=t),r&&(this.item.title=r),n&&(this.item.payload.dwID=n,this.item.payload.nLevel=a,this.$refs["basicForm"].getResource())}},mounted:function(){var e=this;this.$nextTick((function(){e.initQuery()}))},watch:{"$route.params.id":{immediate:!0,handler:function(){this.reset(),this.isEditMode&&this.load()}}},components:{ItemType:w,ItemBasic:I,ItemLimit:R,ItemWarning:ae,ItemCountdown:xe,ItemPanel:ze,FoldBlock:m["a"]}},Ne=Ie,Ae=(n("5e84"),Object(C["a"])(Ne,a,r,!1,null,null,null));t["default"]=Ae.exports},d4a6:function(e,t,n){"use strict";n("c7cd");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-foldblock"},[t("el-divider",{attrs:{"content-position":"left"}},[e._t("title",(function(){return[t("i",{class:e.icon}),e._v(" "+e._s(e.desc)+" ")]})),e.fixed?e._e():t("span",{staticClass:"u-collapse",class:{on:e.status},on:{click:e.collapse}},[e._v(e._s(e.status?"展开":"折叠"))]),e.showToolbarOnCollapse||!e.status?t("div",{staticClass:"m-foldblock-toolbar"},[e._t("title-toolbar")],2):e._e()],2),t("div",{staticClass:"m-foldblock-content",class:{on:e.status}},[e._t("default")],2)],1)},r=[],i={name:"FoldBlock",props:{name:String,desc:String,icon:String,fold:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},showToolbarOnCollapse:{type:Boolean,default:!1}},data:function(){return{status:this.fold}},computed:{},methods:{collapse:function(){this.status=!this.status}},mounted:function(){},components:{}},o=i,s=(n("043c"),n("2877")),l=Object(s["a"])(o,a,r,!1,null,null,null);t["a"]=l.exports},d866:function(e,t,n){"use strict";var a=n("23e7"),r=n("2266"),i=n("59ed"),o=n("825a"),s=n("46c4");a({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),i(e);var t=s(this),n=0;return!r(t,(function(t,a){if(!e(t,n++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},da2c:function(e){e.exports=JSON.parse('["白云","小剑","斧头","钩子","红鼓","剪刀","棒槌","如意","飞镖","扇子"]')},e19a:function(e,t,n){!function(t,n){e.exports=n()}(self,(function(){return(()=>{var e={725:(e,t,n)=>{"use strict";e.exports=n.p+"046d0074eee1d99a674a.js"},839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{defaultOptions:()=>r,fetchFile:()=>f,getCreateFFmpegCore:()=>u});var a=n(306);const r={corePath:"https://unpkg.com/@ffmpeg/core@".concat(a.devDependencies["@ffmpeg/core"].substring(1),"/dist/ffmpeg-core.js")};var i=n(185),o=n(835);function s(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){s(i,a,r,o,l,"next",e)}function l(e){s(i,a,r,o,l,"throw",e)}o(void 0)}))}}var c=function(){var e=l(regeneratorRuntime.mark((function e(t,n){var a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,i.log)("info","fetch ".concat(t)),e.next=3,fetch(t);case 3:return e.next=5,e.sent.arrayBuffer();case 5:return a=e.sent,(0,i.log)("info","".concat(t," file size = ").concat(a.byteLength," bytes")),r=new Blob([a],{type:n}),o=URL.createObjectURL(r),(0,i.log)("info","".concat(t," blob URL = ").concat(o)),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=l(regeneratorRuntime.mark((function e(t){var n,a,r,s,l,u,p,d,f,m,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.corePath,a=t.workerPath,r=t.wasmPath,!("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)){e.next=18;break}if("string"==typeof n){e.next=4;break}throw Error("corePath should be a string!");case 4:return s=new URL(n,"file:///home/jeromewu/repos/ffmpeg.wasm/src/browser/getCreateFFmpegCore.js").href,e.next=7,c(s,"application/javascript");case 7:return l=e.sent,e.next=10,c(void 0!==r?r:s.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 10:return u=e.sent,e.next=13,c(void 0!==a?a:s.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 13:if(p=e.sent,"undefined"!=typeof createFFmpegCore){e.next=16;break}return e.abrupt("return",new Promise((function(e){if(globalThis.importScripts(l),"undefined"==typeof createFFmpegCore)throw Error((0,o.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(s));(0,i.log)("info","ffmpeg-core.js script loaded"),e({createFFmpegCore:createFFmpegCore,corePath:l,wasmPath:u,workerPath:p})})));case 16:return(0,i.log)("info","ffmpeg-core.js script is loaded already"),e.abrupt("return",Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:l,wasmPath:u,workerPath:p}));case 18:if("string"==typeof n){e.next=20;break}throw Error("corePath should be a string!");case 20:return d=new URL(n,"file:///home/jeromewu/repos/ffmpeg.wasm/src/browser/getCreateFFmpegCore.js").href,e.next=23,c(d,"application/javascript");case 23:return f=e.sent,e.next=26,c(void 0!==r?r:d.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 26:return m=e.sent,e.next=29,c(void 0!==a?a:d.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 29:if(b=e.sent,"undefined"!=typeof createFFmpegCore){e.next=32;break}return e.abrupt("return",new Promise((function(e){var t=document.createElement("script");t.src=f,t.type="text/javascript",t.addEventListener("load",(function n(){if(t.removeEventListener("load",n),"undefined"==typeof createFFmpegCore)throw Error((0,o.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(d));(0,i.log)("info","ffmpeg-core.js script loaded"),e({createFFmpegCore:createFFmpegCore,corePath:f,wasmPath:m,workerPath:b})})),document.getElementsByTagName("head")[0].appendChild(t)})));case 32:return(0,i.log)("info","ffmpeg-core.js script is loaded already"),e.abrupt("return",Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:f,wasmPath:m,workerPath:b}));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function p(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}var d=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){t(a.result)},a.onerror=function(e){var t=e.target.error.code;n(Error("File could not be read! Code=".concat(t)))},a.readAsArrayBuffer(e)}))},f=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,void 0!==t){e.next=3;break}return e.abrupt("return",new Uint8Array);case 3:if("string"!=typeof t){e.next=16;break}if(!/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(t)){e.next=8;break}n=atob(t.split(",")[1]).split("").map((function(e){return e.charCodeAt(0)})),e.next=14;break;case 8:return e.next=10,fetch(new URL(t,"file:///home/jeromewu/repos/ffmpeg.wasm/src/browser/fetchFile.js").href);case 10:return a=e.sent,e.next=13,a.arrayBuffer();case 13:n=e.sent;case 14:e.next=20;break;case 16:if(!(t instanceof File||t instanceof Blob)){e.next=20;break}return e.next=19,d(t);case 19:n=e.sent;case 20:return e.abrupt("return",new Uint8Array(n));case 21:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){p(i,a,r,o,s,"next",e)}function s(e){p(i,a,r,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()},500:e=>{e.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:function(){},progress:function(){},corePath:""}}},906:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,l,"next",e)}function l(e){r(o,a,i,s,l,"throw",e)}s(void 0)}))}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=n(500),m=f.defaultArgs,b=f.baseOptions,h=n(319),v=n(839),y=v.defaultOptions,g=v.getCreateFFmpegCore,_=n(306).version,C=Error("ffmpeg.wasm is not ready, make sure you have completed load().");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u(u(u({},b),y),e),n=t.log,r=(t.logger,t.progress),s=d(t,["log","logger","progress"]),l=null,c=null,p=null,f=null,v=!1,k=function(){},w=n,x=r,O=0,F=0,S=!1,j=0,P=function(e){"FFMPEG_END"===e&&null!==p&&(p(),p=null,f=null,v=!1)},L=function(e,t){k({type:e,message:t}),w&&console.log("[".concat(e,"] ").concat(t))},E=function(e){var t=o(e.split(":"),3),n=t[0],a=t[1],r=t[2];return 60*parseFloat(n)*60+60*parseFloat(a)+parseFloat(r)},T=function(e,t){if("string"==typeof e)if(e.startsWith("  Duration")){var n=e.split(", ")[0].split(": ")[1],a=E(n);t({duration:a,ratio:j}),(0===O||O>a)&&(O=a,S=!0)}else if(S&&e.startsWith("    Stream")){var r=e.match(/([\d.]+) fps/);if(r){var i=parseFloat(r[1]);F=O*i}else F=0;S=!1}else if(e.startsWith("frame")||e.startsWith("size")){var o=e.split("time=")[1].split(" ")[0],s=E(o),l=e.match(/frame=\s*(\d+)/);if(F&&l){var c=parseFloat(l[1]);j=Math.min(c/F,1)}else j=s/O;t({ratio:j,time:s})}else e.startsWith("video:")&&(t({ratio:1}),O=0)},z=function(e){var t=e.type,n=e.message;L(t,n),T(n,x),P(n)},I=function(){var e=i(regeneratorRuntime.mark((function e(){var t,n,a,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L("info","load ffmpeg-core"),null!==l){e.next=17;break}return L("info","loading ffmpeg-core"),e.next=5,g(s);case 5:return t=e.sent,n=t.createFFmpegCore,a=t.corePath,r=t.workerPath,i=t.wasmPath,e.next=12,n({mainScriptUrlOrBlob:a,printErr:function(e){return z({type:"fferr",message:e})},print:function(e){return z({type:"ffout",message:e})},locateFile:function(e,t){if("undefined"!=typeof window||"undefined"!=typeof WorkerGlobalScope){if(void 0!==i&&e.endsWith("ffmpeg-core.wasm"))return i;if(void 0!==r&&e.endsWith("ffmpeg-core.worker.js"))return r}return t+e}});case 12:l=e.sent,c=l.cwrap(s.mainName||"proxy_main","number",["number","number"]),L("info","ffmpeg-core loaded"),e.next=18;break;case 17:throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){return null!==l},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(L("info","run ffmpeg command: ".concat(t.join(" "))),null===l)throw C;if(v)throw Error("ffmpeg.wasm can only run one command at a time");return v=!0,new Promise((function(e,n){var r=[].concat(a(m),t).filter((function(e){return 0!==e.length}));p=e,f=n,c.apply(void 0,a(h(l,r)))}))},$=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(L("info","run FS.".concat(e," ").concat(n.map((function(e){return"string"==typeof e?e:"<".concat(e.length," bytes binary file>")})).join(" "))),null===l)throw C;var r=null;try{var i;r=(i=l.FS)[e].apply(i,n)}catch(t){throw"readdir"===e?Error("ffmpeg.FS('readdir', '".concat(n[0],"') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')")):"readFile"===e?Error("ffmpeg.FS('readFile', '".concat(n[0],"') error. Check if the path exists")):Error("Oops, something went wrong in FS operation.")}return r},D=function(){if(null===l)throw C;f&&f("ffmpeg has exited"),v=!1;try{l.exit(1)}catch(e){L(e.message),f&&f(e)}finally{l=null,c=null,p=null,f=null}},B=function(e){x=e},M=function(e){k=e},R=function(e){w=e};return L("info","use ffmpeg.wasm v".concat(_)),{setProgress:B,setLogger:M,setLogging:R,load:I,isLoaded:N,run:A,exit:D,FS:$}}},352:(e,t,n)=>{n(666);var a=n(906),r=n(839).fetchFile;e.exports={createFFmpeg:a,fetchFile:r}},835:e=>{e.exports={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:function(e){return"\ncreateFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ".concat(e,". Use another URL when calling createFFmpeg():\n\nconst ffmpeg = createFFmpeg({\n  corePath: 'http://localhost:3000/ffmpeg-core.js',\n});\n")}}},185:e=>{var t=!1,n=function(){};e.exports={logging:t,setLogging:function(e){t=e},setCustomLogger:function(e){n=e},log:function(e,a){n({type:e,message:a}),t&&console.log("[".concat(e,"] ").concat(a))}}},319:e=>{e.exports=function(e,t){var n=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach((function(t,a){var r=e.lengthBytesUTF8(t)+1,i=e._malloc(r);e.stringToUTF8(t,i,r),e.setValue(n+Uint32Array.BYTES_PER_ELEMENT*a,i,"i32")})),[t.length,n]}},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,i=Object.create(r.prototype),o=new j(a||[]);return i._invoke=function(e,t,n){var a=p;return function(r,i){if(a===f)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw i;return L()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===b)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var l=u(e,t,n);if("normal"===l.type){if(a=n.done?m:d,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",d="suspendedYield",f="executing",m="completed",b={};function h(){}function v(){}function y(){}var g={};g[i]=function(){return this};var _=Object.getPrototypeOf,C=_&&_(_(P([])));C&&C!==n&&a.call(C,i)&&(g=C);var k=y.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,i,o,s){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(p).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,a){function i(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(i,i):i()}}function O(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var r=u(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:L}}function L(){return{value:t,done:!0}}return v.prototype=k.constructor=y,y.constructor=v,v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(x.prototype),x.prototype[o]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var o=new x(c(t,n,a,r),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,s,"Generator"),k[i]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return s.type="throw",s.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:P(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},306:e=>{"use strict";e.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.11.6","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","start:worker":"node scripts/worker-server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}')}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}return n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n(352)})()}))},e69f:function(e,t,n){},ee79:function(e,t,n){},ef04:function(e){e.exports=JSON.parse('["bCheckLevel","bSearch","bReg","bAllLeave"]')},f1c8:function(e,t,n){},f391:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));n("99af"),n("caad"),n("2532");var a=n("65c2"),r=(n("469a"),n("2f46"));function i(e){return e?a["__iconPath"]+"icon/"+e+".png":a["__iconPath"]+"icon/undefined.png"}function o(e,t,n){var a="https://www.jx3box.com/app/database/?";return a+="type=".concat(r[e],"&"),a+="query=".concat(t,"&"),""!==n&&void 0!==n&&null!==n&&(a+="&level=".concat(n)),a}var s=a["__Links"].account.login+"?redirect="+location.href},f6a6:function(e,t,n){"use strict";n("63fc")},fda2:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var a=n("c7eb"),r=n("b85c"),i=n("1da1"),o=(n("b0c0"),n("2ca0"),n("e19a")),s=n("1fb9"),l=n("bd3f"),c=Object(o["createFFmpeg"])({mainName:"main",corePath:"https://unpkg.com/@ffmpeg/core-st@0.11.1/dist/ffmpeg-core.js"});function u(e){var t=new Audio,n=t.canPlayType(e.type);return"maybe"===n||"probably"===n}function p(e){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.isLoaded()){e.next=3;break}return e.next=3,c.load();case 3:return e.t0=c,e.t1=t.name,e.next=7,Object(o["fetchFile"])(t);case 7:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),e.next=11,c.run("-i",t.name,"-acodec","libvorbis","output.ogg");case 11:return n=c.FS("readFile","output.ogg"),r=new File([n.buffer],"output.ogg",{type:"audio/ogg"}),e.next=15,c.exit();case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){return e.startsWith("http")||e.startsWith("https")?e:s["a"]+e}function m(e){if(e){(e.startsWith("VO:")||e.startsWith("VC:"))&&(e=e.substring(3));var t,n=l["a"].state.slugs,a=Object(r["a"])(n);try{for(a.s();!(t=a.n()).done;){var i,o=t.value,s=Object(r["a"])(o.children);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.value==e)return[o.label,c.label]}}catch(u){s.e(u)}finally{s.f()}}}catch(u){a.e(u)}finally{a.f()}return[void 0,void 0]}}},fdec:function(e,t,n){}}]);