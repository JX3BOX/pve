(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04d8c28c"],{1402:function(t,e,n){"use strict";n("3b22")},"161f":function(t,e,n){"use strict";n("b0c0");var i=function(){var t=this,e=t._self._c;return e("el-drawer",{staticClass:"m-talent-drawer",attrs:{visible:t.visible,"append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[e("h3",{staticClass:"u-talent-title",attrs:{slot:"title"},slot:"title"},[t._v("我的预设方案")]),e("div",{staticClass:"m-talent-my"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-talent-list"},[t.list&&t.list.length?e("ul",[t._l(t.list,(function(n,i){return e("li",{key:i,staticClass:"m-talent-list-item"},[n.edit?t._e():e("span",{staticClass:"u-name"},[e("i",{staticClass:"u-icon el-icon-tickets"}),e("span",[t._v(t._s(n.name))]),t.isEditing?t._e():e("i",{staticClass:"u-edit el-icon-edit",attrs:{title:"修改名称"},on:{click:function(e){return t.edit(n)}}})]),n.edit?e("div",[e("el-input",{staticClass:"u-shema-name",attrs:{size:"mini"},model:{value:t.currentShemaName,callback:function(e){t.currentShemaName=e},expression:"currentShemaName"}}),e("el-button",{attrs:{type:"text"},on:{click:t.put}},[t._v("保存")]),e("el-button",{attrs:{type:"text"},on:{click:function(t){n.edit=!1}}},[t._v("取消")])],1):t._e(),e("el-button-group",[e("el-tooltip",{attrs:{effect:"dark",content:"使用",placement:"top"}},[e("el-button",{attrs:{size:"mini",icon:"el-icon-position"},on:{click:function(e){return t.use(n)}}})],1),e("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[e("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.del(n)}}})],1)],1)],1)})),e("el-pagination",{staticClass:"u-list-pagination",attrs:{background:"","hide-on-single-page":"",layout:"prev,pager,next,->,total",total:t.total,"page-size":t.per,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],2):e("el-alert",{attrs:{title:"当前没有任何预设方案",type:"info","show-icon":""}})],1)])])},a=[],c=(n("d81d"),n("e9f5"),n("ab43"),n("a732"),n("d3b7"),n("4566")),s={props:{drawer:{type:Boolean,default:!1},type:{type:String,default:"talent"},client:{type:String,default:"std"}},data:function(){return{list:[],loading:!1,per:10,page:1,total:0,visible:!1,currentShemaName:"",currentSchema:""}},computed:{isEditing:function(){return this.list.some((function(t){return t.edit}))}},methods:{loadList:function(){var t=this;this.loading=!0,Object(c["c"])({client:this.client,type:this.type,page:this.page,per:this.per}).then((function(e){t.list=e.data.data.list.map((function(e){return t.$set(e,"edit",!1),e})),t.page=e.data.data.page,t.per=e.data.data.per,t.total=e.data.data.total})).finally((function(){t.loading=!1}))},use:function(t){this.$emit("use",t)},edit:function(t){this.currentShemaName=t.name,this.currentSchema=t,t.edit=!0},put:function(){var t=this;Object(c["d"])(this.currentSchema.id,{name:this.currentShemaName}).then((function(){t.$notify({type:"success",title:"成功",message:"修改成功"}),t.currentSchema.name=t.currentShemaName,t.currentSchema.edit=!1,t.currentShemaName="",t.currentSchema=""}))},del:function(t){var e=this;this.$confirm("确认删除预设方案[".concat(t.name,"]？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["e"])(t.id).then((function(){e.$notify({type:"success",title:"成功",message:"预设方案删除成功"}),e.loadList()}))}))}},watch:{drawer:function(t){t&&(this.loadList(),this.visible=t)},visible:function(t){this.$emit("update-drawer",t)},page:function(){this.loadList()}}},r=s,o=(n("1402"),n("2877")),l=Object(o["a"])(r,i,a,!1,null,null,null);e["a"]=l.exports},"3b22":function(t,e,n){},4566:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u}));var i=n("cee4"),a=n("65c2"),c=n("41cb");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"std";return i["a"].get(a["__dataPath"]+"talent/".concat(t,"/index.json"))}function r(t){return Object(c["a"])().get("/api/cms/app/talents",{params:t})}function o(t){return Object(c["a"])().post("/api/cms/app/talent",t)}function l(t,e){return Object(c["a"])().put("/api/cms/app/talent/"+t,e)}function u(t){return Object(c["a"])().delete("/api/cms/app/talent/"+t)}},a732:function(t,e,n){"use strict";var i=n("23e7"),a=n("c65b"),c=n("2266"),s=n("59ed"),r=n("825a"),o=n("46c4"),l=n("2a62"),u=n("f99f"),d=u("some",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:d},{some:function(t){r(this);try{s(t)}catch(i){l(this,"throw",i)}if(d)return a(d,this,t);var e=o(this),n=0;return c(e,(function(e,i){if(t(e,n++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},c27f:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-layout-app"},[e("Header"),e("Breadcrumb",{attrs:{name:t.title,slug:t.slug,root:t.root,feedbackEnable:!0,crumbEnable:!1}},[e("img",{attrs:{slot:"logo","svg-inline":"",src:t.logo},slot:"logo"})]),e("Main",{class:t.className,attrs:{withoutRight:!0,withoutLeft:!0}},[t._t("default"),e("Footer")],2)],1)},a=[],c=n("65c2"),s=n("c5326"),r={name:"AppLayout",props:{slug:{type:String,default:""},icon:{type:String,default:""},className:{type:String,default:""}},computed:{root:function(){return"/macro/".concat(this.slug)},logo:function(){var t=this.icon||this.slug;return c["__cdn"]+"logo/logo-light/"+t+".svg"},title:function(){var t;return(null===(t=s[this.slug])||void 0===t?void 0:t.title)||""}}},o=r,l=(n("f6d9"),n("2877")),u=Object(l["a"])(o,i,a,!1,null,null,null);e["a"]=u.exports},c5326:function(t){t.exports=JSON.parse('{"macroeditor":{"title":"宏编辑器"},"meridians":{"title":"经脉模拟器"},"talent":{"title":"奇穴模拟器"},"talent2":{"title":"镇派模拟器"}}')},cfa9:function(t,e,n){},f6d9:function(t,e,n){"use strict";n("cfa9")}}]);