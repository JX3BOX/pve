(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-552c4bdc"],{"1f0e":function(t,e,n){},"63b4":function(t,e,n){"use strict";n.r(e);n("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-pkg-rank"},[e("el-radio-group",{staticClass:"u-type-radio",attrs:{size:"medium"},on:{change:t.onActiveTypeChange},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}},[e("el-radio-button",{attrs:{label:"1"}},[t._v("团队监控")]),e("el-radio-button",{attrs:{label:"2"}},[t._v("目标监控")])],1),e("el-tabs",{staticClass:"m-tabs",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(n,a){return e("el-tab-pane",{key:a,attrs:{name:n.name}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{class:n.icon}),t._v(" "+t._s(n.label))])])})),1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-pkg-rank__table",attrs:{data:t.data,border:"",stripe:""}},[e("el-table-column",{attrs:{type:"index",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticClass:"u-order",class:"u-order-".concat(n.$index+1)},[t._v(t._s(n.$index+1))])]}}])}),e("el-table-column",{attrs:{label:"作者","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("a",{staticClass:"m-user",attrs:{href:t.authorLink(a.ext_user_info.id),target:"_blank"}},[e("Avatar",{staticClass:"u-avatar",attrs:{url:a.ext_user_info.avatar,size:20}}),t._v(" "+t._s(a.ext_user_info.display_name||"匿名")+" ")],1)]}}])}),e("el-table-column",{attrs:{label:"订阅名",align:"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",{staticClass:"u-key",on:{click:function(e){return t.copy(a.key)}}},[e("a",{attrs:{href:t.postLink("dbm/pkg",a.id),target:"_blank"}},[t._v(t._s(a.key))]),e("i",{staticClass:"u-type-value"},[e("i",{staticClass:"el-icon-document-copy u-copy"})])])]}}])}),e("el-table-column",{attrs:{label:"语言",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",{staticClass:"u-client",class:a.lang},[t._v(" "+t._s(t.langs[a.lang]||a.lang)+" ")])]}}])}),e("el-table-column",{attrs:{label:"客户端",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",{staticClass:"u-client",class:a.client},[t._v(" "+t._s(t.clients[a.client]||a.client)+" ")])]}}])}),e("el-table-column",{attrs:{label:"最后更新",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t.showTime(n))+" ")]}}])}),e("el-table-column",{attrs:{label:"统计",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t.showCount(n))+" ")]}}])})],1)],1)},i=[],s=(n("d3b7"),n("1f7f")),r=n("85e4"),o=n("d669"),c={name:"PkgRank",props:[],components:{},data:function(){return{data:[],loading:!1,activeType:"1",active:"mix",tabs:[{label:"综合排行榜",name:"mix",icon:"el-icon-s-data"},{label:"下载排行榜",name:"download",icon:"el-icon-download"},{label:"订阅排行榜",name:"subscribers",icon:"el-icon-collection-tag"},{label:"收藏排行榜",name:"favorite",icon:"el-icon-star-off"}],langs:{cn:"简体中文",tr:"繁体中文"},clients:{std:"正式服",origin:"怀旧服"}}},computed:{client:function(){return this.$store.state.client}},watch:{active:function(){this.loadData()}},methods:{postLink:r["q"],authorLink:r["a"],showTime:function(t){var e=t.ts,n=t.created_at;return e?Object(o["c"])(parseInt(e,10)):n},loadData:function(){var t=this;this.loading=!0,Object(s["u"])(this.active,{top:100,client:this.client,type:this.activeType}).then((function(e){t.data=e.data.data||[]})).finally((function(){t.loading=!1}))},showCount:function(t){var e=t.favorite,n=t.subscribers,a=t.last_7day;return"mix"==this.active?a+e+n:"download"==this.active?a:"subscribers"==this.active?n:"favorite"==this.active?e:void 0},copy:function(t){navigator.clipboard.writeText(t),this.$notify.success({title:"复制成功",message:t})},onActiveTypeChange:function(){this.loadData()}},mounted:function(){this.loadData()}},l=c,u=(n("d7c4"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,null,null);e["default"]=d.exports},d669:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return d}));n("99af");var a=n("5a0c"),i=n.n(a),s=n("4208"),r=n.n(s),o=n("f906"),c=n.n(o);n("a471");function l(t){return i()(t).fromNow()}function u(t){return i()(t).format("YYYY-MM-DD")}function d(t){return i()(t).format("YYYY-MM-DD HH:mm:ss")}i.a.extend(r.a),i.a.extend(c.a),i.a.locale("zh-cn")},d7c4:function(t,e,n){"use strict";n("1f0e")},f906:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,a=/\d\d/,i=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,r={},o=function(t){return(t=+t)+(t>68?1900:2e3)},c=function(t){return function(e){this[t]=+e}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],u=function(t){var e=r[t];return e&&(e.indexOf?e:e.s.concat(e.f))},d=function(t,e){var n,a=r.meridiem;if(a){for(var i=1;i<=24;i+=1)if(t.indexOf(a(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},f={A:[s,function(t){this.afternoon=d(t,!1)}],a:[s,function(t){this.afternoon=d(t,!0)}],Q:[n,function(t){this.month=3*(t-1)+1}],S:[n,function(t){this.milliseconds=100*+t}],SS:[a,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[a,c("day")],Do:[s,function(t){var e=r.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var a=1;a<=31;a+=1)e(a).replace(/\[|\]/g,"")===t&&(this.day=a)}],w:[i,c("week")],ww:[a,c("week")],M:[i,c("month")],MM:[a,c("month")],MMM:[s,function(t){var e=u("months"),n=(u("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[s,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,c("year")],YY:[a,function(t){this.year=o(t)}],YYYY:[/\d{4}/,c("year")],Z:l,ZZ:l};function h(n){var a,i;a=n,i=r&&r.formats;for(var s=(n=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,a){var s=a&&a.toUpperCase();return n||i[a]||t[a]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),o=s.length,c=0;c<o;c+=1){var l=s[c],u=f[l],d=u&&u[0],h=u&&u[1];s[c]=h?{regex:d,parser:h}:l.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,a=0;n<o;n+=1){var i=s[n];if("string"==typeof i)a+=i.length;else{var r=i.regex,c=i.parser,l=t.slice(a),u=r.exec(l)[0];c.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(o=t.parseTwoDigitYear);var a=e.prototype,i=a.parse;a.parse=function(t){var e=t.date,a=t.utc,s=t.args;this.$u=a;var o=s[1];if("string"==typeof o){var c=!0===s[2],l=!0===s[3],u=c||l,d=s[2];l&&(d=s[2]),r=this.$locale(),!c&&d&&(r=n.Ls[d]),this.$d=function(t,e,n,a){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var i=h(e)(t),s=i.year,r=i.month,o=i.day,c=i.hours,l=i.minutes,u=i.seconds,d=i.milliseconds,f=i.zone,m=i.week,v=new Date,p=o||(s||r?1:v.getDate()),b=s||v.getFullYear(),g=0;s&&!r||(g=r>0?r-1:v.getMonth());var w,y=c||0,_=l||0,M=u||0,Y=d||0;return f?new Date(Date.UTC(b,g,p,y,_,M,Y+60*f.offset*1e3)):n?new Date(Date.UTC(b,g,p,y,_,M,Y)):(w=new Date(b,g,p,y,_,M,Y),m&&(w=a(w).week(m).toDate()),w)}catch(t){return new Date("")}}(e,o,a,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&e!=this.format(o)&&(this.$d=new Date("")),r={}}else if(o instanceof Array)for(var f=o.length,m=1;m<=f;m+=1){s[1]=o[m-1];var v=n.apply(this,s);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}m===f&&(this.$d=new Date(""))}else i.call(this,t)}}}))}}]);