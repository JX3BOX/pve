(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0165a4a"],{"2d83":function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"i",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"c",(function(){return a}));var o=n("41cb");function r(t){return Object(o["g"])().get("/api/team/my-game-roles",{params:t})}function a(){return Object(o["g"])().get("/api/team/my-game-roles?nopage")}function i(t){return Object(o["g"])().get("/api/team/role-unbind/"+t)}function s(){return Object(o["g"])().get("/api/team/role-bind-token")}function c(t,e){return Object(o["g"])().put("/api/team/role-update-note/".concat(t),{note:e})}function u(t){return Object(o["g"])().post("/api/team/custom-role",t)}function l(t,e){return Object(o["g"])().put("/api/team/custom-role/".concat(t),e)}function m(t){return Object(o["g"])().get("/api/team/custom-role/".concat(t))}function f(t){return Object(o["g"])().delete("/api/team/custom-role/".concat(t))}function d(t){return Object(o["g"])().put("/api/team/role-priority/".concat(t,"/top"))}function p(t){return Object(o["g"])().put("/api/team/role-priority/".concat(t,"/untop"))}},9756:function(t){t.exports=JSON.parse('["缘起稻香","天宝盛世","剑啸江湖","蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","眉间雪","有人赴约","万象长安","山海相逢","青梅煮酒","共結來緣","傲血戰意","巔峰再起","江海雲夢"]')},"9eca":function(t,e,n){"use strict";n("fabc")},b30a:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-role-add"},[e("h1",{staticClass:"m-title"},[e("i",{staticClass:"el-icon-setting"}),t._v(" 编辑角色 "),e("div",{staticClass:"u-op"},[e("el-button",{staticClass:"u-back",attrs:{slot:"reference",size:"mini",icon:"el-icon-arrow-left"},on:{click:t.goBack},slot:"reference"},[t._v("返回列表")])],1)]),e("roleform",{attrs:{data:t.form,btn_txt:"更新",processing:t.processing},on:{submit:t.submit}})],1)},r=[],a=(n("14d9"),n("d3b7"),n("f738")),i=n("c9d2"),s=n("2d83"),c={name:"",props:[],data:function(){return{form:{ID:"",name:"",server:"",mount:"",body_type:"",note:"",custom:1,uid:""},processing:!1}},computed:{id:function(){return~~this.$route.params.id}},methods:{loadData:function(){var t=this;Object(s["d"])(this.id).then((function(e){var n=e.data.data.uid==i["a"].getInfo().uid||i["a"].isSuperAdmin();n?t.form=e.data.data:t.$message.error("没有操作权限")}))},submit:function(){var t=this;this.form.custom?(this.processing=!0,Object(s["k"])(this.id,this.form).then((function(e){t.$message({message:"更新成功",type:"success"}),t.$router.push("/role/manage")})).finally((function(){t.processing=!1}))):this.$message.error("绑定角色不允许篡改")},goBack:function(){this.$router.push("/role/manage")}},mounted:function(){this.loadData()},components:{roleform:a["a"]}},u=c,l=(n("fafc"),n("2877")),m=Object(l["a"])(u,o,r,!1,null,null,null);e["default"]=m.exports},c4e2:function(t,e,n){},f738:function(t,e,n){"use strict";n("b0c0");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-role-form"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px","label-position":t.position}},[e("el-form-item",{attrs:{label:"角色名"}},[e("el-input",{attrs:{placeholder:"请输入角色名称","show-word-limit":"",minlength:2,maxlength:20},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"服务器"}},[e("el-select",{attrs:{placeholder:"请选择服务器",filterable:""},on:{change:t.setDefaultServer},model:{value:t.form.server,callback:function(e){t.$set(t.form,"server",e)},expression:"form.server"}},t._l(t.servers,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"门派"}},[e("el-radio-group",{attrs:{size:"medium"},model:{value:t.form.mount,callback:function(e){t.$set(t.form,"mount",e)},expression:"form.mount"}},t._l(t.school_map,(function(n,o){return e("el-radio",{key:o,attrs:{label:o,border:""}},[e("img",{staticClass:"u-icon-school",attrs:{src:t._f("showSchoolIcon")(o)}}),t._v(" "+t._s(n)+" ")])})),1)],1),e("el-form-item",{attrs:{label:"体型"}},[e("el-select",{attrs:{placeholder:"请选择体型"},model:{value:t.form.body_type,callback:function(e){t.$set(t.form,"body_type",e)},expression:"form.body_type"}},t._l(t.body_map,(function(t,n){return e("el-option",{key:n,attrs:{label:t.label,value:n}})})),1)],1),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{attrs:{placeholder:"请输入备注信息","show-word-limit":"",minlength:2,maxlength:20},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),e("el-form-item",[e("el-button",{staticClass:"u-btn",attrs:{type:"primary",disabled:t.building},on:{click:t.submit}},[t._v(t._s(t.btn_txt))])],1)],1)],1)},r=[],a=n("9756"),i=n("33a5"),s=n("fb5f"),c=(n("65c2"),{props:["data","btn_txt","processing"],data:function(){return{position:window.innerWidth<768?"top":"left",form:this.data||{name:"",server:"",mount:"0",body_type:"1",note:""},building:this.processing||!1,servers:a,body_map:s["a"],school_map:i}},model:{prop:"data",event:"update"},watch:{data:function(t){this.form=t},form:{deep:!0,handler:function(t){this.$emit("update",t)}},processing:function(t){this.building=t}},computed:{},methods:{submit:function(){this.form.name?this.$emit("submit"):this.$alert("角色名不能为空","提醒",{confirmButtonText:"确定"})},setDefaultServer:function(t){localStorage&&localStorage.setItem("team_role_default_server",t)}},filters:{},mounted:function(){},components:{}}),u=c,l=(n("9eca"),n("2877")),m=Object(l["a"])(u,o,r,!1,null,null,null);e["a"]=m.exports},fabc:function(t,e,n){},fafc:function(t,e,n){"use strict";n("c4e2")}}]);