(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-522a3a9d"],{"2d49":function(e,t,a){},"793d":function(e,t,a){"use strict";a("2d49")},e610:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"v-battle"},[t("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"本数据可能会展示在天梯榜，请勿关联非正确数据",type:"warning","show-icon":""}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-battle-index"},[0==e.list.length?t("div",{staticClass:"m-battle-list_null"},[t("el-alert",{attrs:{title:"暂无成绩",type:"info","show-icon":""}})],1):t("div",{staticClass:"m-mybattle-list"},[e._l(e.list,(function(a,n){return t("BattleItem",{key:n,attrs:{item:a},on:{uploadBattle:e.uploadBattle}})})),t("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":e.per,total:e.total,"current-page":e.page},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"current-change":e.changePage}})],2),e.relevanceShow?t("Relevance",{attrs:{role:!0,data:e.relevanceData},on:{update:e.onRelevanceUpdate},model:{value:e.relevanceShow,callback:function(t){e.relevanceShow=t},expression:"relevanceShow"}}):e._e()],1)],1)},i=[],l=a("c7eb"),o=a("1da1"),c=(a("a15b"),a("d81d"),a("14d9"),a("13d5"),a("e9f5"),a("7d54"),a("ab43"),a("9485"),a("a9e3"),a("d3b7"),a("159b"),a("e356")),r=a("2ef0"),s=a("32c3"),d=a("9c0d"),u={components:{BattleItem:d["a"],Relevance:s["a"]},props:{teamId:{type:[Number,String],default:0}},data:function(){return{list:[],relevanceShow:!1,relevanceData:{},per:10,page:1,total:1,loading:!1}},computed:{params:function(){return{pageIndex:this.page,pageSize:this.per,team_id:this.teamId,is_leader:0}}},watch:{params:{immediate:!0,handler:function(){this.loadData()}}},methods:{goBack:function(){this.$router.push("/")},loadData:function(){var e=this;this.loading=!0,Object(c["c"])(this.params).then(function(){var t=Object(o["a"])(Object(l["a"])().mark((function t(a){var n,i,o,s,d;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=a.data.data,e.list=o.list||[],e.total=o.page.total||1,s=Object(r["uniq"])(e.list.map((function(e){return e.achieve_id}))).join(","),t.next=6,Object(c["b"])({aids:s,per:100});case 6:if(t.t1=n=t.sent.data,t.t0=null===t.t1,t.t0){t.next=10;break}t.t0=void 0===n;case 10:if(!t.t0){t.next=14;break}t.t2=void 0,t.next=15;break;case 14:t.t2=null===(i=n.data)||void 0===i?void 0:i.list.reduce((function(e,t){return e[t.aid]=t,e}),{});case 15:d=t.t2,e.list.forEach((function(t){e.$set(t,"boss_info",d[t.achieve_id]||"")}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){e.loading=!1}))},uploadBattle:function(e){this.relevanceData=e,this.relevanceShow=!0},changePage:function(){window.scrollTo(0,0)},onRelevanceUpdate:function(e){this.relevanceShow=e,this.loadData()}}},p=u,h=(a("793d"),a("2877")),v=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=v.exports}}]);