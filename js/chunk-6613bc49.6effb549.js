(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6613bc49"],{1677:function(t,e,o){"use strict";o("b7a6")},"2d838":function(t,e,o){"use strict";o.d(e,"e",(function(){return a})),o.d(e,"i",(function(){return s})),o.d(e,"f",(function(){return i})),o.d(e,"g",(function(){return l})),o.d(e,"a",(function(){return c})),o.d(e,"k",(function(){return u})),o.d(e,"d",(function(){return m})),o.d(e,"b",(function(){return f})),o.d(e,"h",(function(){return p})),o.d(e,"j",(function(){return d})),o.d(e,"c",(function(){return r}));var n=o("41cb");function a(t){return Object(n["g"])().get("/api/team/my-game-roles",{params:t})}function r(){return Object(n["g"])().get("/api/team/my-game-roles?nopage")}function s(t){return Object(n["g"])().get("/api/team/role-unbind/"+t)}function i(){return Object(n["g"])().get("/api/team/role-bind-token")}function l(t,e){return Object(n["g"])().put("/api/team/role-update-note/".concat(t),{note:e})}function c(t){return Object(n["g"])().post("/api/team/custom-role",t)}function u(t,e){return Object(n["g"])().put("/api/team/custom-role/".concat(t),e)}function m(t){return Object(n["g"])().get("/api/team/custom-role/".concat(t))}function f(t){return Object(n["g"])().delete("/api/team/custom-role/".concat(t))}function p(t){return Object(n["g"])().put("/api/team/role-priority/".concat(t,"/top"))}function d(t){return Object(n["g"])().put("/api/team/role-priority/".concat(t,"/untop"))}},9756:function(t){t.exports=JSON.parse('["缘起稻香","天宝盛世","剑啸江湖","蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","眉间雪","有人赴约","万象长安","山海相逢","青梅煮酒","共結來緣","傲血戰意","巔峰再起","江海雲夢"]')},"9eca":function(t,e,o){"use strict";o("fabc")},af5e:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-role-bind"},[e("h1",{staticClass:"m-title"},[e("i",{staticClass:"el-icon-connection"}),e("span",{staticClass:"u-txt"},[t._v("绑定角色")]),e("div",{staticClass:"u-op"},[e("el-button",{staticClass:"u-back",attrs:{slot:"reference",size:"mini",icon:"el-icon-arrow-left"},on:{click:t.goBack},slot:"reference"},[t._v("返回列表")])],1)]),e("el-tabs",{attrs:{type:"card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("el-tab-pane",{attrs:{label:"插件绑定（仅正式服可用）",name:"std"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("插件绑定"),e("span",{staticClass:"u-tab-tip"},[t._v("（仅正式服可用）")])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-token"},[e("h2",{staticClass:"u-title"},[t._v(" 绑定令牌 "),e("span",{staticClass:"u-desc"},[t._v("( 10分钟内有效，超时请刷新页面 )")])]),e("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.token,expression:"token",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-token",attrs:{title:"点击复制"}},[e("i",{staticClass:"el-icon-document-copy"}),t._v(" "+t._s(t.token)+" ")])]),e("div",{staticClass:"m-tutorial"},[e("h2",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-question"}),t._v(" 绑定步骤 ")]),e("p",[t._v(" 打开【茗伊插件集】-【团队】-【团队平台】 "),e("br"),t._v("【点击绑定】并【填入上方密钥】以绑定角色到魔盒账号 "),e("br"),t._v("可以将多个角色绑定至同一个魔盒账号 ")]),e("img",{staticClass:"u-demo",attrs:{src:t.demo_url}})])]),e("el-tab-pane",{attrs:{label:"自定义创建",name:"origin"}},[e("roleform",{attrs:{data:t.form,btn_txt:"创建",processing:t.processing},on:{submit:t.submit}})],1)],1)],1)},a=[],r=(o("caad"),o("14d9"),o("d3b7"),o("2532"),o("2d838")),s=o("65c2"),i=o("f738"),l={name:"BindRole",props:[],data:function(){return{token:"INVALIDTESTTOKEN",demo_url:s["__ossMirror"]+"upload/post/2021/7/4/6658485.png",loading:!1,tab:location.href.includes("origin")?"origin":"std",form:{name:"",server:localStorage&&localStorage.getItem("team_role_default_server")||"",mount:"0",body_type:"1",note:"",custom:1},processing:!1}},computed:{},methods:{onCopy:function(t){this.$notify({title:"复制成功",message:t.text,type:"success"})},onError:function(){this.$notify.error({title:"复制失败",message:"请手动复制"})},submit:function(){var t=this;this.processing=!0,Object(r["a"])(this.form).then((function(e){t.$message({message:"更新成功",type:"success"}),t.$router.push("/role/manage")})).finally((function(){t.processing=!1}))},goBack:function(){this.$router.push("/role/manage")}},mounted:function(){var t=this;this.loading=!0,Object(r["f"])().then((function(e){t.token=e.data.data.token})).finally((function(){t.loading=!1}))},components:{roleform:i["a"]}},c=l,u=(o("1677"),o("2877")),m=Object(u["a"])(c,n,a,!1,null,null,null);e["default"]=m.exports},b7a6:function(t,e,o){},f738:function(t,e,o){"use strict";o("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-role-form"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px","label-position":t.position}},[e("el-form-item",{attrs:{label:"角色名"}},[e("el-input",{attrs:{placeholder:"请输入角色名称","show-word-limit":"",minlength:2,maxlength:20},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"服务器"}},[e("el-select",{attrs:{placeholder:"请选择服务器",filterable:""},on:{change:t.setDefaultServer},model:{value:t.form.server,callback:function(e){t.$set(t.form,"server",e)},expression:"form.server"}},t._l(t.servers,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"门派"}},[e("el-radio-group",{attrs:{size:"medium"},model:{value:t.form.mount,callback:function(e){t.$set(t.form,"mount",e)},expression:"form.mount"}},t._l(t.school_map,(function(o,n){return e("el-radio",{key:n,attrs:{label:n,border:""}},[e("img",{staticClass:"u-icon-school",attrs:{src:t._f("showSchoolIcon")(n)}}),t._v(" "+t._s(o)+" ")])})),1)],1),e("el-form-item",{attrs:{label:"体型"}},[e("el-select",{attrs:{placeholder:"请选择体型"},model:{value:t.form.body_type,callback:function(e){t.$set(t.form,"body_type",e)},expression:"form.body_type"}},t._l(t.body_map,(function(t,o){return e("el-option",{key:o,attrs:{label:t.label,value:o}})})),1)],1),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{attrs:{placeholder:"请输入备注信息","show-word-limit":"",minlength:2,maxlength:20},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),e("el-form-item",[e("el-button",{staticClass:"u-btn",attrs:{type:"primary",disabled:t.building},on:{click:t.submit}},[t._v(t._s(t.btn_txt))])],1)],1)],1)},a=[],r=o("9756"),s=o("33a5"),i=o("fb5f"),l=(o("65c2"),{props:["data","btn_txt","processing"],data:function(){return{position:window.innerWidth<768?"top":"left",form:this.data||{name:"",server:"",mount:"0",body_type:"1",note:""},building:this.processing||!1,servers:r,body_map:i["a"],school_map:s}},model:{prop:"data",event:"update"},watch:{data:function(t){this.form=t},form:{deep:!0,handler:function(t){this.$emit("update",t)}},processing:function(t){this.building=t}},computed:{},methods:{submit:function(){this.form.name?this.$emit("submit"):this.$alert("角色名不能为空","提醒",{confirmButtonText:"确定"})},setDefaultServer:function(t){localStorage&&localStorage.setItem("team_role_default_server",t)}},filters:{},mounted:function(){},components:{}}),c=l,u=(o("9eca"),o("2877")),m=Object(u["a"])(c,n,a,!1,null,null,null);e["a"]=m.exports},fabc:function(t,e,o){}}]);