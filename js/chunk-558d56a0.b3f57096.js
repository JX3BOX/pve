(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-558d56a0"],{"2d83":function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"i",(function(){return l})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"a",(function(){return r})),n.d(e,"k",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"h",(function(){return m})),n.d(e,"j",(function(){return p})),n.d(e,"c",(function(){return a}));var i=n("41cb");function o(t){return Object(i["g"])().get("/api/team/my-game-roles",{params:t})}function a(){return Object(i["g"])().get("/api/team/my-game-roles?nopage")}function l(t){return Object(i["g"])().get("/api/team/role-unbind/"+t)}function s(){return Object(i["g"])().get("/api/team/role-bind-token")}function c(t,e){return Object(i["g"])().put("/api/team/role-update-note/".concat(t),{note:e})}function r(t){return Object(i["g"])().post("/api/team/custom-role",t)}function u(t,e){return Object(i["g"])().put("/api/team/custom-role/".concat(t),e)}function d(t){return Object(i["g"])().get("/api/team/custom-role/".concat(t))}function f(t){return Object(i["g"])().delete("/api/team/custom-role/".concat(t))}function m(t){return Object(i["g"])().put("/api/team/role-priority/".concat(t,"/top"))}function p(t){return Object(i["g"])().put("/api/team/role-priority/".concat(t,"/untop"))}},"46d4":function(t){t.exports=JSON.parse('{"冰心诀":{"name":"冰心诀","id":10081,"force":5,"kungfuId":10,"school":4,"client":["all","std","origin"]},"云裳心经":{"name":"云裳心经","id":10080,"force":5,"kungfuId":9,"school":4,"client":["all","std","origin"]},"花间游":{"name":"花间游","id":10021,"force":2,"kungfuId":5,"school":2,"client":["all","std","origin"]},"离经易道":{"name":"离经易道","id":10028,"force":2,"kungfuId":7,"school":2,"client":["all","std","origin"]},"毒经":{"name":"毒经","id":10175,"force":6,"kungfuId":13,"school":9,"client":["all","std","origin"]},"补天诀":{"name":"补天诀","id":10176,"force":6,"kungfuId":14,"school":9,"client":["all","std","origin"]},"莫问":{"name":"莫问","id":10447,"force":22,"kungfuId":22,"school":19,"client":["all","std"]},"相知":{"name":"相知","id":10448,"force":22,"kungfuId":23,"school":19,"client":["all","std"]},"无方":{"name":"无方","id":10627,"force":212,"kungfuId":29,"school":24,"client":["all","std"]},"灵素":{"name":"灵素","id":10626,"force":212,"kungfuId":28,"school":24,"client":["all","std"]},"傲血战意":{"name":"傲血战意","id":10026,"force":3,"kungfuId":6,"school":1,"client":["all","std","origin"]},"铁牢律":{"name":"铁牢律","id":10062,"force":3,"kungfuId":8,"school":1,"client":["all","std","origin"]},"易筋经":{"name":"易筋经","id":10003,"force":1,"kungfuId":2,"school":5,"client":["all","std","origin"]},"洗髓经":{"name":"洗髓经","id":10002,"force":1,"kungfuId":1,"school":5,"client":["all","std","origin"]},"焚影圣诀":{"name":"焚影圣诀","id":10242,"force":10,"kungfuId":17,"school":8,"client":["all","std","origin"]},"明尊琉璃体":{"name":"明尊琉璃体","id":10243,"force":10,"kungfuId":18,"school":8,"client":["all","std","origin"]},"分山劲":{"name":"分山劲","id":10390,"force":21,"kungfuId":21,"school":18,"client":["all","std","origin"]},"铁骨衣":{"name":"铁骨衣","id":10389,"force":21,"kungfuId":20,"school":18,"client":["all","std","origin"]},"紫霞功":{"name":"紫霞功","id":10014,"force":4,"kungfuId":3,"school":3,"client":["all","std","origin"]},"太虚剑意":{"name":"太虚剑意","id":10015,"force":4,"kungfuId":4,"school":3,"client":["all","std","origin"]},"天罗诡道":{"name":"天罗诡道","id":10225,"force":7,"kungfuId":16,"school":10,"client":["all","std","origin"]},"惊羽诀":{"name":"惊羽诀","id":10224,"force":7,"kungfuId":15,"school":10,"client":["all","std","origin"]},"问水诀":{"name":"问水诀","id":10144,"force":8,"kungfuId":11,"school":6,"client":["all","std","origin"]},"山居剑意":{"name":"山居剑意","id":10145,"force":8,"kungfuId":11,"school":6,"client":["all","std","origin"]},"笑尘诀":{"name":"笑尘诀","id":10268,"force":9,"kungfuId":19,"school":7,"client":["all","std","origin"]},"北傲诀":{"name":"北傲诀","id":10464,"force":23,"kungfuId":24,"school":20,"client":["all","std"]},"凌海诀":{"name":"凌海诀","id":10533,"force":24,"kungfuId":25,"school":21,"client":["all","std"]},"隐龙诀":{"name":"隐龙诀","id":10585,"force":25,"kungfuId":26,"school":22,"client":["all","std"]},"太玄经":{"name":"太玄经","id":10615,"force":211,"kungfuId":27,"school":23,"client":["all","std"]},"孤锋诀":{"name":"孤锋诀","id":10698,"force":213,"kungfuId":30,"school":26,"client":["all","std"]},"山海心诀":{"name":"山海心诀","id":10756,"force":214,"kungfuId":32,"school":29,"client":["all","std"]},"周天功":{"name":"周天功","id":10786,"force":215,"kungfuId":33,"school":38,"client":["all","std"]},"通用":{"name":"通用","id":0,"force":0,"kungfuId":0,"school":0,"client":["all","std","origin"]}}')},"69c4":function(t,e,n){"use strict";n("7415")},7415:function(t,e,n){},b0f1:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-role-list"},[e("h1",{staticClass:"m-title"},[e("i",{staticClass:"el-icon-user"}),e("span",{staticClass:"u-txt"},[t._v("我的角色")]),e("div",{staticClass:"u-op"},[e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/role/bind"}},[e("i",{staticClass:"el-icon-connection"}),t._v(" 绑定角色 ")]),e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/role/add"}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 自定义角色 ")])],1)]),e("div",{staticClass:"m-role-list-filter"},[e("el-input",{staticClass:"u-name",attrs:{placeholder:"请输入角色名称",size:"small"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[e("template",{slot:"prepend"},[e("i",{staticClass:"el-icon-search"}),t._v(" 查找 ")])],2),e("el-select",{attrs:{size:"small","popper-class":"m-school-pop"},model:{value:t.mount,callback:function(e){t.mount=e},expression:"mount"}},[e("el-option",{attrs:{label:"全部",value:""}}),t._l(t.school_id_map,(function(n,i){return e("el-option",{key:i,staticClass:"u-school",attrs:{value:i,label:n}},[e("img",{attrs:{width:"24",height:"24",src:t._f("showSchoolIcon")(i)}}),t._v(" "+t._s(n)+" ")])}))],2)],1),t.data&&t.data.length?e("div",{staticClass:"m-team-rolelist"},[e("ul",{staticClass:"u-list"},t._l(t.data,(function(n,i){return e("li",{key:i,staticClass:"u-item"},[e("router-link",{staticClass:"u-pic u-avatar",attrs:{to:"/role/"+n.ID}},[e("img",{attrs:{src:t.showAvatar(n.mount,n.body_type),alt:""}})]),e("span",{staticClass:"u-title"},[e("router-link",{staticClass:"u-rolename",attrs:{to:"/role/"+n.ID}},[t._v(t._s(n.name))]),n.custom?t._e():e("i",{staticClass:"u-status",attrs:{title:"已认证"}},[e("svg",{attrs:{height:"512",viewBox:"0 0 511.375 511.375",width:"512",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M511.375 255.688l-57.89-64.273 9.064-86.046-84.651-17.92-43.18-75.012-79.03 35.321-10.667 207.93 10.667 207.929 79.031 35.321 43.179-75.011 84.651-17.921-9.064-86.046z",fill:"#0ed678"}}),e("path",{attrs:{d:"M176.656 12.437l-43.179 75.012-84.651 17.921 9.064 86.045L0 255.688l57.89 64.272-9.064 86.046 84.651 17.921 43.18 75.011 79.031-35.321V47.758z",fill:"#04eb84"}}),e("g",[e("path",{attrs:{d:"M362.878 199.702l-22.381-19.977-84.809 95.016-10.667 23.613 10.667 21.439z",fill:"#f7f0eb"}}),e("path",{attrs:{d:"M166.56 233.095l-21.212 21.213 89.185 89.186 21.155-23.701v-45.052l-22.393 25.088z",fill:"#fffbf5"}})])])]),n.note?e("span",{staticClass:"u-note"},[t._v("("+t._s(n.note)+")")]):t._e(),e("span",{staticClass:"u-addnote",on:{click:function(e){return t.addNote(n)}}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"设置备注",placement:"top"}},[e("i",{staticClass:"el-icon-edit-outline"})])],1),e("span",{staticClass:"u-star",class:{on:n.priority},on:{click:function(e){return t.starRole(n)}}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.priority?"取消置顶":"置顶",placement:"top"}},[e("i",{staticClass:"el-icon-star-off"})])],1)],1),e("span",{staticClass:"u-meta"},[e("span",{staticClass:"u-server"},[e("em",[t._v("服务器")]),t._v(" "+t._s(n.server)+" ")]),e("span",{staticClass:"u-mount"},[e("em",[t._v("门派")]),e("img",{staticClass:"u-icon",attrs:{src:t._f("showSchoolIcon")(n.mount)}}),t._v(" "+t._s(t._f("showSchoolName")(n.mount))+" ")])]),e("span",{staticClass:"u-time"},[t._v("绑定时间 : "+t._s(t._f("showTime")(n.created_at)))]),e("div",{staticClass:"u-op"},[n.custom?[e("router-link",{staticClass:"el-button el-button--primary el-button--mini is-plain",attrs:{to:"/role/edit/"+n.ID}},[e("i",{staticClass:"el-icon-edit-outline"}),t._v(" 编辑 ")]),e("el-button",{staticClass:"u-btn u-delete",attrs:{type:"info",plain:"",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.delRole(n.ID,i)}}},[t._v("删除")])]:e("el-button",{staticClass:"u-btn u-unbind",attrs:{type:"warning",plain:"",size:"mini"},on:{click:function(e){return t.unbind(n.ID,i)}}},[e("i",{staticClass:"u-icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"475.082",height:"475.082",viewBox:"0 0 475.082 475.082","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M107.067 317.195c1.713-1.708 2.568-3.898 2.568-6.563 0-2.663-.855-4.853-2.568-6.571-1.714-1.707-3.905-2.562-6.567-2.562H9.135c-2.666 0-4.853.855-6.567 2.562C.859 305.772 0 307.962 0 310.632c0 2.665.855 4.855 2.568 6.563 1.714 1.711 3.905 2.566 6.567 2.566H100.5c2.666.005 4.853-.851 6.567-2.566zM310.629 109.634c2.669 0 4.859-.855 6.563-2.568 1.718-1.711 2.574-3.901 2.574-6.567V9.138c0-2.659-.856-4.85-2.574-6.565-1.704-1.711-3.895-2.57-6.563-2.57-2.662 0-4.853.859-6.563 2.57-1.711 1.713-2.566 3.903-2.566 6.565v91.361c0 2.666.855 4.856 2.566 6.567 1.718 1.713 3.908 2.568 6.563 2.568zM118.771 347.184c-2.478 0-4.664.855-6.567 2.563l-73.089 73.087c-1.713 1.902-2.568 4.093-2.568 6.567s.855 4.664 2.568 6.566c2.096 1.708 4.283 2.57 6.567 2.57 2.475 0 4.665-.862 6.567-2.57l73.089-73.087c1.714-1.902 2.568-4.093 2.568-6.57 0-2.471-.854-4.661-2.568-6.563-1.902-1.708-4.093-2.563-6.567-2.563zM356.315 127.905c2.283 0 4.473-.855 6.571-2.565l73.087-73.089c1.707-1.903 2.562-4.093 2.562-6.567 0-2.475-.855-4.665-2.562-6.567-1.91-1.709-4.093-2.568-6.571-2.568-2.471 0-4.66.859-6.563 2.568l-73.087 73.089c-1.708 1.903-2.57 4.093-2.57 6.567s.862 4.661 2.57 6.567c2.094 1.71 4.285 2.565 6.563 2.565zM350.607 193.005c-4-3.999-9.328-7.994-15.988-11.991l-5.14 68.238 78.23 78.508c5.328 5.328 7.987 11.807 7.987 19.417 0 7.423-2.662 13.802-7.987 19.13l-41.977 41.686c-5.146 5.146-11.608 7.666-19.417 7.566-7.81-.1-14.271-2.707-19.411-7.854l-77.946-78.225-68.234 5.144c3.999 6.656 7.993 11.988 11.991 15.985l95.362 95.643c15.803 16.18 35.207 24.27 58.238 24.27 22.846 0 42.154-7.898 57.957-23.695l41.977-41.685c16.173-15.8 24.27-35.115 24.27-57.958 0-22.46-7.994-41.877-23.982-58.248l-95.93-95.931zM472.518 157.889c-1.711-1.709-3.901-2.565-6.563-2.565H374.59c-2.662 0-4.853.855-6.563 2.565-1.715 1.713-2.57 3.903-2.57 6.567 0 2.666.855 4.856 2.57 6.567 1.711 1.712 3.901 2.568 6.563 2.568h91.365c2.662 0 4.853-.856 6.563-2.568 1.708-1.711 2.563-3.901 2.563-6.567.001-2.664-.855-4.854-2.563-6.567zM109.348 67.099c5.523-5.14 11.991-7.705 19.417-7.705 7.611 0 14.084 2.663 19.414 7.993l77.943 78.227 68.234-5.142c-4-6.661-7.99-11.991-11.991-15.987l-95.358-95.643c-15.798-16.178-35.212-24.27-58.242-24.27-22.841 0-42.16 7.902-57.958 23.7l-41.97 41.683C12.659 85.756 4.57 105.073 4.57 127.912c0 22.463 7.996 41.877 23.982 58.245l95.93 95.93c3.995 4.001 9.325 7.995 15.986 11.991l5.139-68.521-78.23-78.227c-5.327-5.33-7.992-11.801-7.992-19.417 0-7.421 2.662-13.796 7.992-19.126l41.971-41.688zM164.454 365.451c-2.667 0-4.854.855-6.567 2.563-1.711 1.711-2.568 3.901-2.568 6.57v91.358c0 2.669.854 4.853 2.568 6.57 1.713 1.707 3.9 2.566 6.567 2.566 2.666 0 4.853-.859 6.567-2.566 1.713-1.718 2.568-3.901 2.568-6.57v-91.358c0-2.662-.855-4.853-2.568-6.57-1.715-1.707-3.905-2.563-6.567-2.563z"}})])]),t._v("解绑角色 ")])],2)],1)})),0),e("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":t.changePage}})],1):[e("el-alert",{staticClass:"m-archive-null",attrs:{title:"没有找到相关条目",type:"info",center:"","show-icon":""}}),e("div",{staticClass:"m-role-null"},[e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/role/bind"}},[e("i",{staticClass:"el-icon-connection"}),t._v(" 绑定角色 ")]),e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/role/add"}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 自定义角色 ")])],1)],e("el-dialog",{staticClass:"m-team-note-dialog",attrs:{title:"设置备注",visible:t.noteVisible,width:"30%"},on:{"update:visible":function(e){t.noteVisible=e}}},[e("div",[e("el-input",{attrs:{placeholder:"请输入内容",maxlength:20,"show-word-limit":!0},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.noteVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmNote}},[t._v("确 定")])],1)])],2)},o=[],a=(n("14d9"),n("a434"),n("d3b7"),n("2d83")),l=n("33a5"),s=n("65c2"),c=n("46d4"),r=n("85e4"),u={name:"ListRole",props:[],data:function(){return{per:10,page:1,total:1,pages:1,data:[],loading:!1,noteVisible:!1,currentItem:"",note:"",mount:"",name:"",xfmap:c,school_id_map:l}},computed:{params:function(){return{pageIndex:this.page,pageSize:this.per,mount:this.mount,name:this.name}}},methods:{unbind:function(t,e){var n=this;this.$alert("在网站进行解绑游戏内需要小退方可生效","消息",{confirmButtonText:"确定解绑",callback:function(i){"confirm"==i&&Object(a["i"])(t).then((function(t){n.$notify({title:"解绑成功",message:"角色解绑成功",type:"success"}),n.data.splice(e,1)}))}})},loadData:function(){var t=this;this.loading=!0,Object(a["e"])(this.params).then((function(e){t.total=e.data.data.page.total,t.pages=e.data.data.page.pageTotal,t.data=e.data.data.list||[]})).finally((function(){t.loading=!1}))},showAvatar:function(t,e){return Object(r["l"])(s["__cdn"]+"design/avatar/xisai/"+t+"-"+e+".png")},go:function(t){this.$router.push(t)},addNote:function(t){this.noteVisible=!0,this.currentItem=t},confirmNote:function(){var t=this;Object(a["g"])(this.currentItem.ID,this.note).then((function(e){t.noteVisible=!1,t.currentItem.note=t.note,t.note="",t.$notify({title:"成功",message:"备注设置成功",type:"success"})}))},delRole:function(t,e){var n=this;this.$alert("确定删除该角色吗？","消息",{confirmButtonText:"确定",callback:function(i){"confirm"==i&&Object(a["b"])(t).then((function(t){n.$notify({title:"删除成功",message:"角色删除成功",type:"success"}),n.data.splice(e,1)}))}})},starRole:function(t){var e=this;t.priority?Object(a["j"])(t.ID).then((function(n){t.priority=0,e.$notify({title:"取消星标成功",message:"角色取消星标成功",type:"success"})})):Object(a["h"])(t.ID).then((function(n){t.priority=Date.now(),e.$notify({title:"星标成功",message:"角色星标成功",type:"success"})}))},changePage:function(){window.scrollTo(0,0)}},filters:{},created:function(){},watch:{params:{immediate:!0,handler:function(t){this.loadData()}}},components:{}},d=u,f=(n("69c4"),n("2877")),m=Object(f["a"])(d,i,o,!1,null,null,null);e["default"]=m.exports}}]);